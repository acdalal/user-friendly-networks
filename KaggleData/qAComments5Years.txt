[44315181
 '<p>ciao a tutti, <p>I have a public IP and a home router that allows me to port forward as many ports as I need.<BR>\n<p>For testing purposes I need to reach two internal IPs using HTTPS. the first site is a netscaler gateway that uses 443, and is working fine; for various reasons, I\'d rather not change it.\n<p>the second IP is an apache2 raspbian-based website and should use 444 (or any other port for that matter) and here is where problems start.\n<p>I can easily reach the site from outside if I use the <a href="https://example.com:444" rel="nofollow noreferrer">https://example.com:444</a> format; however I would like to hide the :444 at the end of the address.</p>\n\n<p><p>I have checked several threads in this regards and all seem to offer two choices:\n<p>proxy reverse: proxypreservehost / proxypass / proxypassreverse\n<p>rewrite: rewritecond / rewriterule</p>\n\n<p><p>I can\'t paste more than 2 links but these are the standard examples I found on this site.</p>\n\n<p><p>I succesfully restart apache2 in both cases, which in my very limited knowledge means \'things are ok\' but i still get the :444 at the end of the address.</p>\n\n<p><p>hence my questions,\n<p>is it even possible to obtain what I\'d like to have?\n<p>what am I doing wrong?</p>\n\n<p><p>your input is very appreciated.\n<p>thanks\n<p>regards\n<p>leo</p>'
 "<p>If you only have 1 external IP address, you won't be able to configure your firewall to forward port 433 to different IP addresses.</p>\n\n<p>One device will have to proxy (at some layer) to the other. It seems like a straightforward task in either server.</p>"
 "for some unknown reason the 'hello all' part at the beginning does not post."]
[44937039
 '<ul>\n<li><p>When I purchased a home router and initialized it, I had to use a\nstatic IP address to access the router, e.g. enter <code>192.168.1.1</code> in\nthe browser then log and configure it.</p></li>\n<li><p>But now some routers can be accessed through the url, e.g. enter <code>routername.com</code> in the browser to get the same effect as static ip, how to realize\nit? how the browser knows the router static ip address through the\nurl? Even I do not connect to the Internet, and no DNS service here.</p></li>\n</ul>'
 "<p>This is because most routers check their own DNS servers first, which usually have a domain name like <code>router.com</code> referring to it's current IP.\nWhen the IP is not in the internal DNS and can't be mapped to a domain name it then calls and external DNS server on the internet or a DNS server on the local network.</p>\n\n<p>You type the domain name in the browser <code>routername.com</code>. It then checks the PC's preferred DNS (usually set to the routers IP by default). It then checks the routers DNS and finds the name <code>routername.com</code> pointing to say <code>192.168.1.1</code></p>\n\n<p>Hope this helps.</p>"
 'The router is providing a DNS for its subnet and defines its own name-address combination. For things not known to it, it calls to an external DNS.']
[28106373
 '<p>I am trying to get started with raspberry pi, model B. As a way to avoid having to buy a monitor and hdmi cable and keyboard and mouse (no, I do not already have a tv, monitor, hdmi cable, usb keyboad and usb mouse), I am trying to use remote access through my laptop by connecting it to the router. I assigned fixed ip to raspberry pi by editing its cmdline.txt file. I can successfully ping it. (I am using raspbian). I can connect to it by using Xming and putty, well mostly. When I hit scratch, a program slowly loads, takes several seconds to fully draw the window. When I hit lxsession, I see a bunch of errors, but the raspbian desktop gets loaded but its empty. Why am I getting those errors? and Why is the desktop empty? \nBasically all I did was: </p>\n\n<ol>\n<li>burned the raspbian OS to sd card. </li>\n<li>Edited the cmdline.txt to append ip=xxx.xxx.xx (to match the same group as my computer\'s ip; I can ping my pie) </li>\n<li>Connect Rp to my home router using ethernet cable. </li>\n<li>install Xming and putty in my laptop and start them. </li>\n<li>Enable X-11 forwarding in putty, and login to raspberry pi\'s ip address from 2. </li>\n<li>try to load \'lxsession\'</li>\n</ol>\n\n<p>Is there anything I am missing? </p>\n\n<p>I have attached here the screen shot of the error:</p>\n\n<p><img src="https://i.stack.imgur.com/jfKqN.png" alt="Error"></p>\n\n<p>PS: I accidentally posted this question into stackexchange instead. Sorry for double post.</p>'
 '<p>i don\'t know about the xming....but u can use vncserver to load the screen on your laptop...it is very easy to install on the pi and very easy to access the desktop of your pi via your laptop.....</p>\n\n<p>it is detailed shown on the this following link...\n<a href="https://kushrami.wordpress.com/2015/01/26/how-to-load-raspberry-pis-desktop-on-your-laptop-screen/" rel="nofollow">https://kushrami.wordpress.com/2015/01/26/how-to-load-raspberry-pis-desktop-on-your-laptop-screen/</a> </p>'
 "Please move your question to [su]. It's [off-topic](http://stackoverflow.com/help/on-topic) here."]
[53621715
 "<p>From my home computer behind a standard home router / NAT, I am opening a single <code>socket</code>, and sending data to two different servers (with different public IP):</p>\n\n<pre><code>import socket, time\nsoc = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nfor addr in ['203.0.113.2', '198.51.100.77']:\n    soc.sendto(b'', (addr, 4000))\n    data, _ = soc.recvfrom(6)\n    print(data)\n    time.sleep(2)\n</code></pre>\n\n<p>On the first server listening on port 4000, I notice that 4000 has been translated by the NAT to port 57358.</p>\n\n<p>On the second server listening on port 4000, I notice that 4000 <strong>has also been translated to port 57358</strong>.</p>\n\n<p>Is it standard documented behaviour that when </p>\n\n<ul>\n<li>opening a socket</li>\n<li>sending data to a first server, </li>\n<li>NAT router translating the port 4000 to 57358</li>\n</ul>\n\n<p>then, <strong>when sending data to another IP with the same socket, the NAT will translate the port 4000 <em>to the same port</em>?</strong> (57358 in my example)</p>\n\n<p>or is it just luck?</p>\n\n<hr>\n\n<p>Note: I've tested this both from a computer connected to a home ISP router and from a computer connected to my phone tethering via WiFi, in both cases, I get the same behaviour.</p>"
 '<p>The implementation of NAPT is up to the vendor of the NAPT device. One device may do it that way, and another device do it differently.</p>'
 'The implementation of NAPT is up to the vendor of the NAPT device. One device may do it that way, and another device do it differently.']
[53621715
 "<p>From my home computer behind a standard home router / NAT, I am opening a single <code>socket</code>, and sending data to two different servers (with different public IP):</p>\n\n<pre><code>import socket, time\nsoc = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nfor addr in ['203.0.113.2', '198.51.100.77']:\n    soc.sendto(b'', (addr, 4000))\n    data, _ = soc.recvfrom(6)\n    print(data)\n    time.sleep(2)\n</code></pre>\n\n<p>On the first server listening on port 4000, I notice that 4000 has been translated by the NAT to port 57358.</p>\n\n<p>On the second server listening on port 4000, I notice that 4000 <strong>has also been translated to port 57358</strong>.</p>\n\n<p>Is it standard documented behaviour that when </p>\n\n<ul>\n<li>opening a socket</li>\n<li>sending data to a first server, </li>\n<li>NAT router translating the port 4000 to 57358</li>\n</ul>\n\n<p>then, <strong>when sending data to another IP with the same socket, the NAT will translate the port 4000 <em>to the same port</em>?</strong> (57358 in my example)</p>\n\n<p>or is it just luck?</p>\n\n<hr>\n\n<p>Note: I've tested this both from a computer connected to a home ISP router and from a computer connected to my phone tethering via WiFi, in both cases, I get the same behaviour.</p>"
 '<p>There seems to be various <a href="https://en.wikipedia.org/wiki/Network_address_translation#Methods_of_translation" rel="nofollow noreferrer">methods of translation</a> such as Symmetric NAT:</p>\n\n<p><a href="https://i.stack.imgur.com/bpPaW.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/bpPaW.png" alt="enter image description here"></a>,</p>\n\n<p>full-cone NAT, post-restricted cone NAT, etc. and each of them might lead to different behaviours (?).</p>'
 'The implementation of NAPT is up to the vendor of the NAPT device. One device may do it that way, and another device do it differently.']
[53621715
 "<p>From my home computer behind a standard home router / NAT, I am opening a single <code>socket</code>, and sending data to two different servers (with different public IP):</p>\n\n<pre><code>import socket, time\nsoc = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nfor addr in ['203.0.113.2', '198.51.100.77']:\n    soc.sendto(b'', (addr, 4000))\n    data, _ = soc.recvfrom(6)\n    print(data)\n    time.sleep(2)\n</code></pre>\n\n<p>On the first server listening on port 4000, I notice that 4000 has been translated by the NAT to port 57358.</p>\n\n<p>On the second server listening on port 4000, I notice that 4000 <strong>has also been translated to port 57358</strong>.</p>\n\n<p>Is it standard documented behaviour that when </p>\n\n<ul>\n<li>opening a socket</li>\n<li>sending data to a first server, </li>\n<li>NAT router translating the port 4000 to 57358</li>\n</ul>\n\n<p>then, <strong>when sending data to another IP with the same socket, the NAT will translate the port 4000 <em>to the same port</em>?</strong> (57358 in my example)</p>\n\n<p>or is it just luck?</p>\n\n<hr>\n\n<p>Note: I've tested this both from a computer connected to a home ISP router and from a computer connected to my phone tethering via WiFi, in both cases, I get the same behaviour.</p>"
 '<p>The implementation of NAPT is up to the vendor of the NAPT device. One device may do it that way, and another device do it differently.</p>'
 'This is probably the answer @RonMaupin (could you post it?). I thought that maybe using a *single socket* will keep some connection alive so that when switching to another destination IP, the NAT will know it should give the same NAT-translated port.']
[53621715
 "<p>From my home computer behind a standard home router / NAT, I am opening a single <code>socket</code>, and sending data to two different servers (with different public IP):</p>\n\n<pre><code>import socket, time\nsoc = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nfor addr in ['203.0.113.2', '198.51.100.77']:\n    soc.sendto(b'', (addr, 4000))\n    data, _ = soc.recvfrom(6)\n    print(data)\n    time.sleep(2)\n</code></pre>\n\n<p>On the first server listening on port 4000, I notice that 4000 has been translated by the NAT to port 57358.</p>\n\n<p>On the second server listening on port 4000, I notice that 4000 <strong>has also been translated to port 57358</strong>.</p>\n\n<p>Is it standard documented behaviour that when </p>\n\n<ul>\n<li>opening a socket</li>\n<li>sending data to a first server, </li>\n<li>NAT router translating the port 4000 to 57358</li>\n</ul>\n\n<p>then, <strong>when sending data to another IP with the same socket, the NAT will translate the port 4000 <em>to the same port</em>?</strong> (57358 in my example)</p>\n\n<p>or is it just luck?</p>\n\n<hr>\n\n<p>Note: I've tested this both from a computer connected to a home ISP router and from a computer connected to my phone tethering via WiFi, in both cases, I get the same behaviour.</p>"
 '<p>There seems to be various <a href="https://en.wikipedia.org/wiki/Network_address_translation#Methods_of_translation" rel="nofollow noreferrer">methods of translation</a> such as Symmetric NAT:</p>\n\n<p><a href="https://i.stack.imgur.com/bpPaW.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/bpPaW.png" alt="enter image description here"></a>,</p>\n\n<p>full-cone NAT, post-restricted cone NAT, etc. and each of them might lead to different behaviours (?).</p>'
 'This is probably the answer @RonMaupin (could you post it?). I thought that maybe using a *single socket* will keep some connection alive so that when switching to another destination IP, the NAT will know it should give the same NAT-translated port.']
[53621715
 "<p>From my home computer behind a standard home router / NAT, I am opening a single <code>socket</code>, and sending data to two different servers (with different public IP):</p>\n\n<pre><code>import socket, time\nsoc = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nfor addr in ['203.0.113.2', '198.51.100.77']:\n    soc.sendto(b'', (addr, 4000))\n    data, _ = soc.recvfrom(6)\n    print(data)\n    time.sleep(2)\n</code></pre>\n\n<p>On the first server listening on port 4000, I notice that 4000 has been translated by the NAT to port 57358.</p>\n\n<p>On the second server listening on port 4000, I notice that 4000 <strong>has also been translated to port 57358</strong>.</p>\n\n<p>Is it standard documented behaviour that when </p>\n\n<ul>\n<li>opening a socket</li>\n<li>sending data to a first server, </li>\n<li>NAT router translating the port 4000 to 57358</li>\n</ul>\n\n<p>then, <strong>when sending data to another IP with the same socket, the NAT will translate the port 4000 <em>to the same port</em>?</strong> (57358 in my example)</p>\n\n<p>or is it just luck?</p>\n\n<hr>\n\n<p>Note: I've tested this both from a computer connected to a home ISP router and from a computer connected to my phone tethering via WiFi, in both cases, I get the same behaviour.</p>"
 '<p>The implementation of NAPT is up to the vendor of the NAPT device. One device may do it that way, and another device do it differently.</p>'
 'OK. I did that.']
[53621715
 "<p>From my home computer behind a standard home router / NAT, I am opening a single <code>socket</code>, and sending data to two different servers (with different public IP):</p>\n\n<pre><code>import socket, time\nsoc = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nfor addr in ['203.0.113.2', '198.51.100.77']:\n    soc.sendto(b'', (addr, 4000))\n    data, _ = soc.recvfrom(6)\n    print(data)\n    time.sleep(2)\n</code></pre>\n\n<p>On the first server listening on port 4000, I notice that 4000 has been translated by the NAT to port 57358.</p>\n\n<p>On the second server listening on port 4000, I notice that 4000 <strong>has also been translated to port 57358</strong>.</p>\n\n<p>Is it standard documented behaviour that when </p>\n\n<ul>\n<li>opening a socket</li>\n<li>sending data to a first server, </li>\n<li>NAT router translating the port 4000 to 57358</li>\n</ul>\n\n<p>then, <strong>when sending data to another IP with the same socket, the NAT will translate the port 4000 <em>to the same port</em>?</strong> (57358 in my example)</p>\n\n<p>or is it just luck?</p>\n\n<hr>\n\n<p>Note: I've tested this both from a computer connected to a home ISP router and from a computer connected to my phone tethering via WiFi, in both cases, I get the same behaviour.</p>"
 '<p>There seems to be various <a href="https://en.wikipedia.org/wiki/Network_address_translation#Methods_of_translation" rel="nofollow noreferrer">methods of translation</a> such as Symmetric NAT:</p>\n\n<p><a href="https://i.stack.imgur.com/bpPaW.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/bpPaW.png" alt="enter image description here"></a>,</p>\n\n<p>full-cone NAT, post-restricted cone NAT, etc. and each of them might lead to different behaviours (?).</p>'
 'OK. I did that.']
[38403341
 '<p>I am messing around with a small go app for google app engine locally using the appengine sdk.</p>\n\n<p>I have a problem where a path different than root can only be served if I try to hit it using localhost, but not a domain name. </p>\n\n<p>My setup is as follows.</p>\n\n<ul>\n<li>home.mydomain.com points to my home ip adress</li>\n<li>My home router forwards incoming tcp and udp on port 80 to my laptop on port 8080</li>\n<li>My laptop is running Windows 10</li>\n<li>My go version is go1.6 windows/amd64</li>\n</ul>\n\n<p>My app.yaml:</p>\n\n<pre><code>application: tasks\nversion: 1\nruntime: go\napi_version: go1\n\nhandlers:\n- url:  /.*\n  script: _go_app\n</code></pre>\n\n<p>Minimum example code:</p>\n\n<pre><code>func init() {\n    fileHandler := http.FileServer(http.Dir("../frontend"))\n\n    http.HandleFunc("/loggedout", testHandler)\n    http.Handle("/", fileHandler)\n\n    log.Print(http.ListenAndServe(":8080", nil))\n}\n\nfunc testHandler(res http.ResponseWriter, req *http.Request){    \n    panic("JUST NEED THIS TO WORK")\n}\n</code></pre>\n\n<p>My symptoms is that if I access localhost:8080/ I get my website, and if I access localhost:8080/loggedout I get the expected panic.<br>\nIf I access home.mydomain.com/ I get my website, however if I access home.mydomain.com/loggedout the connection just hangs, in chromes network tab it is listed as pending indefinitely.</p>'
 '<p>As Greg pointed out, when I was using goapp I did not need to also call ListenAndServe.\nTo get goapp to listen for requests outside of localhost I also had to add --host "my laptops ip" to the command.</p>'
 "Thanks alot Greg you where right, I did not need to ListenAndServe. However once I removed that nothing worked when I accessed via home.mydomain.com/ but that was because I didn't listen for it, so I added --host 10.0.0.2 to my command and it worked"]
[38690388
 '<p>I am building a simple website which should update a text file when the host receives data from another device connected to the same network. The device in question is a small weather station which measures temperature. The temperature is sent by the station in a PHP GET command through Wifi from an ESP8266 chip. The signal is received by the home router and redirected to a laptop on the network which is hosting the website.</p>\n\n<p>I am having issues because the ESP8266 chip seems to send the data/PHP GET command correctly. Yet the website never updates itself.</p>\n\n<p>In order to simplify the system for troubleshooting, the weather station is replaced by the laptop. The laptop is connected directly to the ESP8266 chip through a USB-to-Serial(UART) cable. All the AT commands to communicate with the ESP8266 chip are typed in the Arduino IDE Serial Monitor.</p>\n\n<p><strong>The website</strong></p>\n\n<p>The website is very simple. Whenever it receives data from the ESP8266 chip, it writes it in a text file.</p>\n\n<p>The website is stored on a laptop whose IP is 192.168.1.2.</p>\n\n<pre><code>phodor@UBUNTU:~$ ifconfig    \nwlp2s0    Link encap:Ethernet  HWaddr 18:cf:5e:ee:3f:10  \n          inet addr:192.168.1.2  Bcast:192.168.1.255  Mask:255.255.255.0\n</code></pre>\n\n<p>The website is a php file hosted on an apache2 server. When executed, the php file stores the temperature in file data.txt. The files are stored at /var/www/html.</p>\n\n<pre><code>phodor@UBUNTU:~$ ls -la /var/www/html\n-rwxrwxrwx 1 root root     0 Jul 31 22:41 data.txt\n-rwxr-xr-x 1 root root   127 Jul 31 21:40 index.php\n</code></pre>\n\n<p>Any GET request sent to the PHP file should contain the temperature so the PHP file can store the temperature in data.txt.</p>\n\n<pre><code>phodor@UBUNTU:~$ cat /var/www/html/index.php \n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;?php\n  $a = $_GET[\'temp\'];\n  $dataSaved = file_put_contents("data.txt",$a . "\\n",FILE_APPEND);  \n  echo "Temperature is " . $a . " oC.";  \n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I type manually the following line in Firefox:</p>\n\n<pre><code>http://192.168.1.2/index.php?temp=28\n</code></pre>\n\n<p>The following text gets displayed in the browser &amp; number "28" gets saved in data.txt.</p>\n\n<pre><code>Temperature is 28 oC.\n</code></pre>\n\n<p><strong>The ESP8266 Chip</strong></p>\n\n<p>As explained above, in the final system the ESP8266 chip will receive serial instructions from a small weather station. But in order to simplify debugging, the chip is now connected to the laptop with a USB-to-Serial (UART) cable. Serial commands are sent to the chip by using the Arduino IDE Serial Monitor. Here are the commands sent.</p>\n\n<pre><code>AT\n\nOK\nAT+CWLAP\n+CWLAP:(3,"MYMODEM",-31,"aa:bb:cc:dd:ee:ff",1,21)\n\nOK\nAT+CWJAP="MYMODEM","mypassword"\n\nWIFI CONNECTED\nWIFI GOT IP\n\nOK\nAT+CIPSTART="TCP","192.168.1.2",80\nCONNECT\n\nOK\nAT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n\nbusy s...\n\nRecv 56 bytes\n\nSEND OK\nCLOSED\n</code></pre>\n\n<p>So at this point, message "Temperature is 10 oC." should appear in the Serial Monitor and the number "10" should get appended to file "data.txt". But nothing happens...</p>\n\n<p>Any suggestions?</p>\n\n<p><strong>Additional Notes</strong></p>\n\n<p>1) The PHP and AT code I am using is very similar to what is presented in this post: <a href="https://www.youtube.com/watch?v=q02f4sPghSo" rel="nofollow">https://www.youtube.com/watch?v=q02f4sPghSo</a>   .</p>\n\n<p>2) As was pointed in some comments below, the GET command might be less conventional. POST or PUT might be more appropriate. Yet at the moment I am only trying to understand why the website is not responding to the chip.</p>'
 '<p>Ok I\'ve figure out the problem.</p>\n\n<p>It turns out that the Arduino IDE Serial Monitor does not recognize "\\r" and "\\n" as special characters and treats them as 4 characters. However, when I type "Enter" (or click on the "Send button") in the Arduino IDE Serial Monitor, it automatically sends a carriage return &amp; a line feed character (two characters more than the string I am trying to send). Therefore, whenever I want to send "\\r\\n" to Serial via the IDE, i need to do it by pressing Enter. If there is such a "\\r\\n" in the middle of the string I want to send (as is the case in my example), the string must be cut in two (or more).</p>\n\n<p>I therefore modified this part of my code:</p>\n\n<pre><code>AT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n</code></pre>\n\n<p>by this:</p>\n\n<pre><code>AT+CIPSEND=33\n\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1        (here I press "Enter")\nRecv 33 bytes\n\nSEND OK\nAT+CIPSEND=21\n\n\nOK\n&gt; Host: 192.168.1.2          (here I press "Enter")\nRecv 21 bytes\n\nSEND OK\n</code></pre>\n\n<p>Note that "GET /index.php?temp=10 HTTP/1.1" is 31 characters long. Two characters will be added by the Serial Monitor when I click "Enter". This explains <code>AT+CIPSEND=33</code> for sending this line, and not <code>AT+CIPSEND=31</code>.</p>\n\n<p>Similarly, "Host: 192.168.1.2" is 19 characters long. When adding 2 characters for carriage-return-and-line-feed, we get 21 characters, so <code>AT+CIPSEND=21</code>.</p>\n\n<p>The server then answers with the correct response.</p>\n\n<pre><code>+IPD,215:HTTP/1.1 200 OK\nDate: Sat, 06 Aug 2016 13:39:59 GMT\nServer: Apache/2.4.18 (Ubuntu)\nContent-Length: 67\nContent-Type: text/html; charset=UTF-8\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\nTemperature is 10 oC.&lt;/body&gt;\n&lt;/html&gt;\nCLOSED\n</code></pre>'
 'FYI it is poor/unconventional/contra-indicated style to use a GET request to modify the state of the server. You should use POST or PUT.']
[38690388
 '<p>I am building a simple website which should update a text file when the host receives data from another device connected to the same network. The device in question is a small weather station which measures temperature. The temperature is sent by the station in a PHP GET command through Wifi from an ESP8266 chip. The signal is received by the home router and redirected to a laptop on the network which is hosting the website.</p>\n\n<p>I am having issues because the ESP8266 chip seems to send the data/PHP GET command correctly. Yet the website never updates itself.</p>\n\n<p>In order to simplify the system for troubleshooting, the weather station is replaced by the laptop. The laptop is connected directly to the ESP8266 chip through a USB-to-Serial(UART) cable. All the AT commands to communicate with the ESP8266 chip are typed in the Arduino IDE Serial Monitor.</p>\n\n<p><strong>The website</strong></p>\n\n<p>The website is very simple. Whenever it receives data from the ESP8266 chip, it writes it in a text file.</p>\n\n<p>The website is stored on a laptop whose IP is 192.168.1.2.</p>\n\n<pre><code>phodor@UBUNTU:~$ ifconfig    \nwlp2s0    Link encap:Ethernet  HWaddr 18:cf:5e:ee:3f:10  \n          inet addr:192.168.1.2  Bcast:192.168.1.255  Mask:255.255.255.0\n</code></pre>\n\n<p>The website is a php file hosted on an apache2 server. When executed, the php file stores the temperature in file data.txt. The files are stored at /var/www/html.</p>\n\n<pre><code>phodor@UBUNTU:~$ ls -la /var/www/html\n-rwxrwxrwx 1 root root     0 Jul 31 22:41 data.txt\n-rwxr-xr-x 1 root root   127 Jul 31 21:40 index.php\n</code></pre>\n\n<p>Any GET request sent to the PHP file should contain the temperature so the PHP file can store the temperature in data.txt.</p>\n\n<pre><code>phodor@UBUNTU:~$ cat /var/www/html/index.php \n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;?php\n  $a = $_GET[\'temp\'];\n  $dataSaved = file_put_contents("data.txt",$a . "\\n",FILE_APPEND);  \n  echo "Temperature is " . $a . " oC.";  \n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I type manually the following line in Firefox:</p>\n\n<pre><code>http://192.168.1.2/index.php?temp=28\n</code></pre>\n\n<p>The following text gets displayed in the browser &amp; number "28" gets saved in data.txt.</p>\n\n<pre><code>Temperature is 28 oC.\n</code></pre>\n\n<p><strong>The ESP8266 Chip</strong></p>\n\n<p>As explained above, in the final system the ESP8266 chip will receive serial instructions from a small weather station. But in order to simplify debugging, the chip is now connected to the laptop with a USB-to-Serial (UART) cable. Serial commands are sent to the chip by using the Arduino IDE Serial Monitor. Here are the commands sent.</p>\n\n<pre><code>AT\n\nOK\nAT+CWLAP\n+CWLAP:(3,"MYMODEM",-31,"aa:bb:cc:dd:ee:ff",1,21)\n\nOK\nAT+CWJAP="MYMODEM","mypassword"\n\nWIFI CONNECTED\nWIFI GOT IP\n\nOK\nAT+CIPSTART="TCP","192.168.1.2",80\nCONNECT\n\nOK\nAT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n\nbusy s...\n\nRecv 56 bytes\n\nSEND OK\nCLOSED\n</code></pre>\n\n<p>So at this point, message "Temperature is 10 oC." should appear in the Serial Monitor and the number "10" should get appended to file "data.txt". But nothing happens...</p>\n\n<p>Any suggestions?</p>\n\n<p><strong>Additional Notes</strong></p>\n\n<p>1) The PHP and AT code I am using is very similar to what is presented in this post: <a href="https://www.youtube.com/watch?v=q02f4sPghSo" rel="nofollow">https://www.youtube.com/watch?v=q02f4sPghSo</a>   .</p>\n\n<p>2) As was pointed in some comments below, the GET command might be less conventional. POST or PUT might be more appropriate. Yet at the moment I am only trying to understand why the website is not responding to the chip.</p>'
 '<p>Ok I\'ve figure out the problem.</p>\n\n<p>It turns out that the Arduino IDE Serial Monitor does not recognize "\\r" and "\\n" as special characters and treats them as 4 characters. However, when I type "Enter" (or click on the "Send button") in the Arduino IDE Serial Monitor, it automatically sends a carriage return &amp; a line feed character (two characters more than the string I am trying to send). Therefore, whenever I want to send "\\r\\n" to Serial via the IDE, i need to do it by pressing Enter. If there is such a "\\r\\n" in the middle of the string I want to send (as is the case in my example), the string must be cut in two (or more).</p>\n\n<p>I therefore modified this part of my code:</p>\n\n<pre><code>AT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n</code></pre>\n\n<p>by this:</p>\n\n<pre><code>AT+CIPSEND=33\n\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1        (here I press "Enter")\nRecv 33 bytes\n\nSEND OK\nAT+CIPSEND=21\n\n\nOK\n&gt; Host: 192.168.1.2          (here I press "Enter")\nRecv 21 bytes\n\nSEND OK\n</code></pre>\n\n<p>Note that "GET /index.php?temp=10 HTTP/1.1" is 31 characters long. Two characters will be added by the Serial Monitor when I click "Enter". This explains <code>AT+CIPSEND=33</code> for sending this line, and not <code>AT+CIPSEND=31</code>.</p>\n\n<p>Similarly, "Host: 192.168.1.2" is 19 characters long. When adding 2 characters for carriage-return-and-line-feed, we get 21 characters, so <code>AT+CIPSEND=21</code>.</p>\n\n<p>The server then answers with the correct response.</p>\n\n<pre><code>+IPD,215:HTTP/1.1 200 OK\nDate: Sat, 06 Aug 2016 13:39:59 GMT\nServer: Apache/2.4.18 (Ubuntu)\nContent-Length: 67\nContent-Type: text/html; charset=UTF-8\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\nTemperature is 10 oC.&lt;/body&gt;\n&lt;/html&gt;\nCLOSED\n</code></pre>'
 'Use a protocol sniffer to see what is actually happening on the network, to see what request/response is happening.']
[38690388
 '<p>I am building a simple website which should update a text file when the host receives data from another device connected to the same network. The device in question is a small weather station which measures temperature. The temperature is sent by the station in a PHP GET command through Wifi from an ESP8266 chip. The signal is received by the home router and redirected to a laptop on the network which is hosting the website.</p>\n\n<p>I am having issues because the ESP8266 chip seems to send the data/PHP GET command correctly. Yet the website never updates itself.</p>\n\n<p>In order to simplify the system for troubleshooting, the weather station is replaced by the laptop. The laptop is connected directly to the ESP8266 chip through a USB-to-Serial(UART) cable. All the AT commands to communicate with the ESP8266 chip are typed in the Arduino IDE Serial Monitor.</p>\n\n<p><strong>The website</strong></p>\n\n<p>The website is very simple. Whenever it receives data from the ESP8266 chip, it writes it in a text file.</p>\n\n<p>The website is stored on a laptop whose IP is 192.168.1.2.</p>\n\n<pre><code>phodor@UBUNTU:~$ ifconfig    \nwlp2s0    Link encap:Ethernet  HWaddr 18:cf:5e:ee:3f:10  \n          inet addr:192.168.1.2  Bcast:192.168.1.255  Mask:255.255.255.0\n</code></pre>\n\n<p>The website is a php file hosted on an apache2 server. When executed, the php file stores the temperature in file data.txt. The files are stored at /var/www/html.</p>\n\n<pre><code>phodor@UBUNTU:~$ ls -la /var/www/html\n-rwxrwxrwx 1 root root     0 Jul 31 22:41 data.txt\n-rwxr-xr-x 1 root root   127 Jul 31 21:40 index.php\n</code></pre>\n\n<p>Any GET request sent to the PHP file should contain the temperature so the PHP file can store the temperature in data.txt.</p>\n\n<pre><code>phodor@UBUNTU:~$ cat /var/www/html/index.php \n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;?php\n  $a = $_GET[\'temp\'];\n  $dataSaved = file_put_contents("data.txt",$a . "\\n",FILE_APPEND);  \n  echo "Temperature is " . $a . " oC.";  \n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I type manually the following line in Firefox:</p>\n\n<pre><code>http://192.168.1.2/index.php?temp=28\n</code></pre>\n\n<p>The following text gets displayed in the browser &amp; number "28" gets saved in data.txt.</p>\n\n<pre><code>Temperature is 28 oC.\n</code></pre>\n\n<p><strong>The ESP8266 Chip</strong></p>\n\n<p>As explained above, in the final system the ESP8266 chip will receive serial instructions from a small weather station. But in order to simplify debugging, the chip is now connected to the laptop with a USB-to-Serial (UART) cable. Serial commands are sent to the chip by using the Arduino IDE Serial Monitor. Here are the commands sent.</p>\n\n<pre><code>AT\n\nOK\nAT+CWLAP\n+CWLAP:(3,"MYMODEM",-31,"aa:bb:cc:dd:ee:ff",1,21)\n\nOK\nAT+CWJAP="MYMODEM","mypassword"\n\nWIFI CONNECTED\nWIFI GOT IP\n\nOK\nAT+CIPSTART="TCP","192.168.1.2",80\nCONNECT\n\nOK\nAT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n\nbusy s...\n\nRecv 56 bytes\n\nSEND OK\nCLOSED\n</code></pre>\n\n<p>So at this point, message "Temperature is 10 oC." should appear in the Serial Monitor and the number "10" should get appended to file "data.txt". But nothing happens...</p>\n\n<p>Any suggestions?</p>\n\n<p><strong>Additional Notes</strong></p>\n\n<p>1) The PHP and AT code I am using is very similar to what is presented in this post: <a href="https://www.youtube.com/watch?v=q02f4sPghSo" rel="nofollow">https://www.youtube.com/watch?v=q02f4sPghSo</a>   .</p>\n\n<p>2) As was pointed in some comments below, the GET command might be less conventional. POST or PUT might be more appropriate. Yet at the moment I am only trying to understand why the website is not responding to the chip.</p>'
 '<p>Ok I\'ve figure out the problem.</p>\n\n<p>It turns out that the Arduino IDE Serial Monitor does not recognize "\\r" and "\\n" as special characters and treats them as 4 characters. However, when I type "Enter" (or click on the "Send button") in the Arduino IDE Serial Monitor, it automatically sends a carriage return &amp; a line feed character (two characters more than the string I am trying to send). Therefore, whenever I want to send "\\r\\n" to Serial via the IDE, i need to do it by pressing Enter. If there is such a "\\r\\n" in the middle of the string I want to send (as is the case in my example), the string must be cut in two (or more).</p>\n\n<p>I therefore modified this part of my code:</p>\n\n<pre><code>AT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n</code></pre>\n\n<p>by this:</p>\n\n<pre><code>AT+CIPSEND=33\n\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1        (here I press "Enter")\nRecv 33 bytes\n\nSEND OK\nAT+CIPSEND=21\n\n\nOK\n&gt; Host: 192.168.1.2          (here I press "Enter")\nRecv 21 bytes\n\nSEND OK\n</code></pre>\n\n<p>Note that "GET /index.php?temp=10 HTTP/1.1" is 31 characters long. Two characters will be added by the Serial Monitor when I click "Enter". This explains <code>AT+CIPSEND=33</code> for sending this line, and not <code>AT+CIPSEND=31</code>.</p>\n\n<p>Similarly, "Host: 192.168.1.2" is 19 characters long. When adding 2 characters for carriage-return-and-line-feed, we get 21 characters, so <code>AT+CIPSEND=21</code>.</p>\n\n<p>The server then answers with the correct response.</p>\n\n<pre><code>+IPD,215:HTTP/1.1 200 OK\nDate: Sat, 06 Aug 2016 13:39:59 GMT\nServer: Apache/2.4.18 (Ubuntu)\nContent-Length: 67\nContent-Type: text/html; charset=UTF-8\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\nTemperature is 10 oC.&lt;/body&gt;\n&lt;/html&gt;\nCLOSED\n</code></pre>'
 '@barny: Thanks for the info above. Any protocol sniffer to suggest? I am not familiar with protocol sniffers.']
[38690388
 '<p>I am building a simple website which should update a text file when the host receives data from another device connected to the same network. The device in question is a small weather station which measures temperature. The temperature is sent by the station in a PHP GET command through Wifi from an ESP8266 chip. The signal is received by the home router and redirected to a laptop on the network which is hosting the website.</p>\n\n<p>I am having issues because the ESP8266 chip seems to send the data/PHP GET command correctly. Yet the website never updates itself.</p>\n\n<p>In order to simplify the system for troubleshooting, the weather station is replaced by the laptop. The laptop is connected directly to the ESP8266 chip through a USB-to-Serial(UART) cable. All the AT commands to communicate with the ESP8266 chip are typed in the Arduino IDE Serial Monitor.</p>\n\n<p><strong>The website</strong></p>\n\n<p>The website is very simple. Whenever it receives data from the ESP8266 chip, it writes it in a text file.</p>\n\n<p>The website is stored on a laptop whose IP is 192.168.1.2.</p>\n\n<pre><code>phodor@UBUNTU:~$ ifconfig    \nwlp2s0    Link encap:Ethernet  HWaddr 18:cf:5e:ee:3f:10  \n          inet addr:192.168.1.2  Bcast:192.168.1.255  Mask:255.255.255.0\n</code></pre>\n\n<p>The website is a php file hosted on an apache2 server. When executed, the php file stores the temperature in file data.txt. The files are stored at /var/www/html.</p>\n\n<pre><code>phodor@UBUNTU:~$ ls -la /var/www/html\n-rwxrwxrwx 1 root root     0 Jul 31 22:41 data.txt\n-rwxr-xr-x 1 root root   127 Jul 31 21:40 index.php\n</code></pre>\n\n<p>Any GET request sent to the PHP file should contain the temperature so the PHP file can store the temperature in data.txt.</p>\n\n<pre><code>phodor@UBUNTU:~$ cat /var/www/html/index.php \n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;?php\n  $a = $_GET[\'temp\'];\n  $dataSaved = file_put_contents("data.txt",$a . "\\n",FILE_APPEND);  \n  echo "Temperature is " . $a . " oC.";  \n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I type manually the following line in Firefox:</p>\n\n<pre><code>http://192.168.1.2/index.php?temp=28\n</code></pre>\n\n<p>The following text gets displayed in the browser &amp; number "28" gets saved in data.txt.</p>\n\n<pre><code>Temperature is 28 oC.\n</code></pre>\n\n<p><strong>The ESP8266 Chip</strong></p>\n\n<p>As explained above, in the final system the ESP8266 chip will receive serial instructions from a small weather station. But in order to simplify debugging, the chip is now connected to the laptop with a USB-to-Serial (UART) cable. Serial commands are sent to the chip by using the Arduino IDE Serial Monitor. Here are the commands sent.</p>\n\n<pre><code>AT\n\nOK\nAT+CWLAP\n+CWLAP:(3,"MYMODEM",-31,"aa:bb:cc:dd:ee:ff",1,21)\n\nOK\nAT+CWJAP="MYMODEM","mypassword"\n\nWIFI CONNECTED\nWIFI GOT IP\n\nOK\nAT+CIPSTART="TCP","192.168.1.2",80\nCONNECT\n\nOK\nAT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n\nbusy s...\n\nRecv 56 bytes\n\nSEND OK\nCLOSED\n</code></pre>\n\n<p>So at this point, message "Temperature is 10 oC." should appear in the Serial Monitor and the number "10" should get appended to file "data.txt". But nothing happens...</p>\n\n<p>Any suggestions?</p>\n\n<p><strong>Additional Notes</strong></p>\n\n<p>1) The PHP and AT code I am using is very similar to what is presented in this post: <a href="https://www.youtube.com/watch?v=q02f4sPghSo" rel="nofollow">https://www.youtube.com/watch?v=q02f4sPghSo</a>   .</p>\n\n<p>2) As was pointed in some comments below, the GET command might be less conventional. POST or PUT might be more appropriate. Yet at the moment I am only trying to understand why the website is not responding to the chip.</p>'
 '<p>Ok I\'ve figure out the problem.</p>\n\n<p>It turns out that the Arduino IDE Serial Monitor does not recognize "\\r" and "\\n" as special characters and treats them as 4 characters. However, when I type "Enter" (or click on the "Send button") in the Arduino IDE Serial Monitor, it automatically sends a carriage return &amp; a line feed character (two characters more than the string I am trying to send). Therefore, whenever I want to send "\\r\\n" to Serial via the IDE, i need to do it by pressing Enter. If there is such a "\\r\\n" in the middle of the string I want to send (as is the case in my example), the string must be cut in two (or more).</p>\n\n<p>I therefore modified this part of my code:</p>\n\n<pre><code>AT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n</code></pre>\n\n<p>by this:</p>\n\n<pre><code>AT+CIPSEND=33\n\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1        (here I press "Enter")\nRecv 33 bytes\n\nSEND OK\nAT+CIPSEND=21\n\n\nOK\n&gt; Host: 192.168.1.2          (here I press "Enter")\nRecv 21 bytes\n\nSEND OK\n</code></pre>\n\n<p>Note that "GET /index.php?temp=10 HTTP/1.1" is 31 characters long. Two characters will be added by the Serial Monitor when I click "Enter". This explains <code>AT+CIPSEND=33</code> for sending this line, and not <code>AT+CIPSEND=31</code>.</p>\n\n<p>Similarly, "Host: 192.168.1.2" is 19 characters long. When adding 2 characters for carriage-return-and-line-feed, we get 21 characters, so <code>AT+CIPSEND=21</code>.</p>\n\n<p>The server then answers with the correct response.</p>\n\n<pre><code>+IPD,215:HTTP/1.1 200 OK\nDate: Sat, 06 Aug 2016 13:39:59 GMT\nServer: Apache/2.4.18 (Ubuntu)\nContent-Length: 67\nContent-Type: text/html; charset=UTF-8\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\nTemperature is 10 oC.&lt;/body&gt;\n&lt;/html&gt;\nCLOSED\n</code></pre>'
 'https://www.wireshark.org/ is probably your best choice, it has a graphical front-end and is easy to get started with.']
[38690388
 '<p>I am building a simple website which should update a text file when the host receives data from another device connected to the same network. The device in question is a small weather station which measures temperature. The temperature is sent by the station in a PHP GET command through Wifi from an ESP8266 chip. The signal is received by the home router and redirected to a laptop on the network which is hosting the website.</p>\n\n<p>I am having issues because the ESP8266 chip seems to send the data/PHP GET command correctly. Yet the website never updates itself.</p>\n\n<p>In order to simplify the system for troubleshooting, the weather station is replaced by the laptop. The laptop is connected directly to the ESP8266 chip through a USB-to-Serial(UART) cable. All the AT commands to communicate with the ESP8266 chip are typed in the Arduino IDE Serial Monitor.</p>\n\n<p><strong>The website</strong></p>\n\n<p>The website is very simple. Whenever it receives data from the ESP8266 chip, it writes it in a text file.</p>\n\n<p>The website is stored on a laptop whose IP is 192.168.1.2.</p>\n\n<pre><code>phodor@UBUNTU:~$ ifconfig    \nwlp2s0    Link encap:Ethernet  HWaddr 18:cf:5e:ee:3f:10  \n          inet addr:192.168.1.2  Bcast:192.168.1.255  Mask:255.255.255.0\n</code></pre>\n\n<p>The website is a php file hosted on an apache2 server. When executed, the php file stores the temperature in file data.txt. The files are stored at /var/www/html.</p>\n\n<pre><code>phodor@UBUNTU:~$ ls -la /var/www/html\n-rwxrwxrwx 1 root root     0 Jul 31 22:41 data.txt\n-rwxr-xr-x 1 root root   127 Jul 31 21:40 index.php\n</code></pre>\n\n<p>Any GET request sent to the PHP file should contain the temperature so the PHP file can store the temperature in data.txt.</p>\n\n<pre><code>phodor@UBUNTU:~$ cat /var/www/html/index.php \n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;?php\n  $a = $_GET[\'temp\'];\n  $dataSaved = file_put_contents("data.txt",$a . "\\n",FILE_APPEND);  \n  echo "Temperature is " . $a . " oC.";  \n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I type manually the following line in Firefox:</p>\n\n<pre><code>http://192.168.1.2/index.php?temp=28\n</code></pre>\n\n<p>The following text gets displayed in the browser &amp; number "28" gets saved in data.txt.</p>\n\n<pre><code>Temperature is 28 oC.\n</code></pre>\n\n<p><strong>The ESP8266 Chip</strong></p>\n\n<p>As explained above, in the final system the ESP8266 chip will receive serial instructions from a small weather station. But in order to simplify debugging, the chip is now connected to the laptop with a USB-to-Serial (UART) cable. Serial commands are sent to the chip by using the Arduino IDE Serial Monitor. Here are the commands sent.</p>\n\n<pre><code>AT\n\nOK\nAT+CWLAP\n+CWLAP:(3,"MYMODEM",-31,"aa:bb:cc:dd:ee:ff",1,21)\n\nOK\nAT+CWJAP="MYMODEM","mypassword"\n\nWIFI CONNECTED\nWIFI GOT IP\n\nOK\nAT+CIPSTART="TCP","192.168.1.2",80\nCONNECT\n\nOK\nAT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n\nbusy s...\n\nRecv 56 bytes\n\nSEND OK\nCLOSED\n</code></pre>\n\n<p>So at this point, message "Temperature is 10 oC." should appear in the Serial Monitor and the number "10" should get appended to file "data.txt". But nothing happens...</p>\n\n<p>Any suggestions?</p>\n\n<p><strong>Additional Notes</strong></p>\n\n<p>1) The PHP and AT code I am using is very similar to what is presented in this post: <a href="https://www.youtube.com/watch?v=q02f4sPghSo" rel="nofollow">https://www.youtube.com/watch?v=q02f4sPghSo</a>   .</p>\n\n<p>2) As was pointed in some comments below, the GET command might be less conventional. POST or PUT might be more appropriate. Yet at the moment I am only trying to understand why the website is not responding to the chip.</p>'
 '<p>Ok I\'ve figure out the problem.</p>\n\n<p>It turns out that the Arduino IDE Serial Monitor does not recognize "\\r" and "\\n" as special characters and treats them as 4 characters. However, when I type "Enter" (or click on the "Send button") in the Arduino IDE Serial Monitor, it automatically sends a carriage return &amp; a line feed character (two characters more than the string I am trying to send). Therefore, whenever I want to send "\\r\\n" to Serial via the IDE, i need to do it by pressing Enter. If there is such a "\\r\\n" in the middle of the string I want to send (as is the case in my example), the string must be cut in two (or more).</p>\n\n<p>I therefore modified this part of my code:</p>\n\n<pre><code>AT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n</code></pre>\n\n<p>by this:</p>\n\n<pre><code>AT+CIPSEND=33\n\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1        (here I press "Enter")\nRecv 33 bytes\n\nSEND OK\nAT+CIPSEND=21\n\n\nOK\n&gt; Host: 192.168.1.2          (here I press "Enter")\nRecv 21 bytes\n\nSEND OK\n</code></pre>\n\n<p>Note that "GET /index.php?temp=10 HTTP/1.1" is 31 characters long. Two characters will be added by the Serial Monitor when I click "Enter". This explains <code>AT+CIPSEND=33</code> for sending this line, and not <code>AT+CIPSEND=31</code>.</p>\n\n<p>Similarly, "Host: 192.168.1.2" is 19 characters long. When adding 2 characters for carriage-return-and-line-feed, we get 21 characters, so <code>AT+CIPSEND=21</code>.</p>\n\n<p>The server then answers with the correct response.</p>\n\n<pre><code>+IPD,215:HTTP/1.1 200 OK\nDate: Sat, 06 Aug 2016 13:39:59 GMT\nServer: Apache/2.4.18 (Ubuntu)\nContent-Length: 67\nContent-Type: text/html; charset=UTF-8\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\nTemperature is 10 oC.&lt;/body&gt;\n&lt;/html&gt;\nCLOSED\n</code></pre>'
 "Are you sending actual backslash characters instead of carriage return and newline characters? Either way I don't see how that request is 56 bytes long."]
[38690388
 '<p>I am building a simple website which should update a text file when the host receives data from another device connected to the same network. The device in question is a small weather station which measures temperature. The temperature is sent by the station in a PHP GET command through Wifi from an ESP8266 chip. The signal is received by the home router and redirected to a laptop on the network which is hosting the website.</p>\n\n<p>I am having issues because the ESP8266 chip seems to send the data/PHP GET command correctly. Yet the website never updates itself.</p>\n\n<p>In order to simplify the system for troubleshooting, the weather station is replaced by the laptop. The laptop is connected directly to the ESP8266 chip through a USB-to-Serial(UART) cable. All the AT commands to communicate with the ESP8266 chip are typed in the Arduino IDE Serial Monitor.</p>\n\n<p><strong>The website</strong></p>\n\n<p>The website is very simple. Whenever it receives data from the ESP8266 chip, it writes it in a text file.</p>\n\n<p>The website is stored on a laptop whose IP is 192.168.1.2.</p>\n\n<pre><code>phodor@UBUNTU:~$ ifconfig    \nwlp2s0    Link encap:Ethernet  HWaddr 18:cf:5e:ee:3f:10  \n          inet addr:192.168.1.2  Bcast:192.168.1.255  Mask:255.255.255.0\n</code></pre>\n\n<p>The website is a php file hosted on an apache2 server. When executed, the php file stores the temperature in file data.txt. The files are stored at /var/www/html.</p>\n\n<pre><code>phodor@UBUNTU:~$ ls -la /var/www/html\n-rwxrwxrwx 1 root root     0 Jul 31 22:41 data.txt\n-rwxr-xr-x 1 root root   127 Jul 31 21:40 index.php\n</code></pre>\n\n<p>Any GET request sent to the PHP file should contain the temperature so the PHP file can store the temperature in data.txt.</p>\n\n<pre><code>phodor@UBUNTU:~$ cat /var/www/html/index.php \n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;?php\n  $a = $_GET[\'temp\'];\n  $dataSaved = file_put_contents("data.txt",$a . "\\n",FILE_APPEND);  \n  echo "Temperature is " . $a . " oC.";  \n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I type manually the following line in Firefox:</p>\n\n<pre><code>http://192.168.1.2/index.php?temp=28\n</code></pre>\n\n<p>The following text gets displayed in the browser &amp; number "28" gets saved in data.txt.</p>\n\n<pre><code>Temperature is 28 oC.\n</code></pre>\n\n<p><strong>The ESP8266 Chip</strong></p>\n\n<p>As explained above, in the final system the ESP8266 chip will receive serial instructions from a small weather station. But in order to simplify debugging, the chip is now connected to the laptop with a USB-to-Serial (UART) cable. Serial commands are sent to the chip by using the Arduino IDE Serial Monitor. Here are the commands sent.</p>\n\n<pre><code>AT\n\nOK\nAT+CWLAP\n+CWLAP:(3,"MYMODEM",-31,"aa:bb:cc:dd:ee:ff",1,21)\n\nOK\nAT+CWJAP="MYMODEM","mypassword"\n\nWIFI CONNECTED\nWIFI GOT IP\n\nOK\nAT+CIPSTART="TCP","192.168.1.2",80\nCONNECT\n\nOK\nAT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n\nbusy s...\n\nRecv 56 bytes\n\nSEND OK\nCLOSED\n</code></pre>\n\n<p>So at this point, message "Temperature is 10 oC." should appear in the Serial Monitor and the number "10" should get appended to file "data.txt". But nothing happens...</p>\n\n<p>Any suggestions?</p>\n\n<p><strong>Additional Notes</strong></p>\n\n<p>1) The PHP and AT code I am using is very similar to what is presented in this post: <a href="https://www.youtube.com/watch?v=q02f4sPghSo" rel="nofollow">https://www.youtube.com/watch?v=q02f4sPghSo</a>   .</p>\n\n<p>2) As was pointed in some comments below, the GET command might be less conventional. POST or PUT might be more appropriate. Yet at the moment I am only trying to understand why the website is not responding to the chip.</p>'
 '<p>Ok I\'ve figure out the problem.</p>\n\n<p>It turns out that the Arduino IDE Serial Monitor does not recognize "\\r" and "\\n" as special characters and treats them as 4 characters. However, when I type "Enter" (or click on the "Send button") in the Arduino IDE Serial Monitor, it automatically sends a carriage return &amp; a line feed character (two characters more than the string I am trying to send). Therefore, whenever I want to send "\\r\\n" to Serial via the IDE, i need to do it by pressing Enter. If there is such a "\\r\\n" in the middle of the string I want to send (as is the case in my example), the string must be cut in two (or more).</p>\n\n<p>I therefore modified this part of my code:</p>\n\n<pre><code>AT+CIPSEND=56\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1\\r\\nHost: 192.168.1.2\\r\\n\\r\\n\n</code></pre>\n\n<p>by this:</p>\n\n<pre><code>AT+CIPSEND=33\n\n\nOK\n&gt; GET /index.php?temp=10 HTTP/1.1        (here I press "Enter")\nRecv 33 bytes\n\nSEND OK\nAT+CIPSEND=21\n\n\nOK\n&gt; Host: 192.168.1.2          (here I press "Enter")\nRecv 21 bytes\n\nSEND OK\n</code></pre>\n\n<p>Note that "GET /index.php?temp=10 HTTP/1.1" is 31 characters long. Two characters will be added by the Serial Monitor when I click "Enter". This explains <code>AT+CIPSEND=33</code> for sending this line, and not <code>AT+CIPSEND=31</code>.</p>\n\n<p>Similarly, "Host: 192.168.1.2" is 19 characters long. When adding 2 characters for carriage-return-and-line-feed, we get 21 characters, so <code>AT+CIPSEND=21</code>.</p>\n\n<p>The server then answers with the correct response.</p>\n\n<pre><code>+IPD,215:HTTP/1.1 200 OK\nDate: Sat, 06 Aug 2016 13:39:59 GMT\nServer: Apache/2.4.18 (Ubuntu)\nContent-Length: 67\nContent-Type: text/html; charset=UTF-8\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\nTemperature is 10 oC.&lt;/body&gt;\n&lt;/html&gt;\nCLOSED\n</code></pre>'
 '`Recv 56 bytes` - what are they?']
[38403341
 '<p>I am messing around with a small go app for google app engine locally using the appengine sdk.</p>\n\n<p>I have a problem where a path different than root can only be served if I try to hit it using localhost, but not a domain name. </p>\n\n<p>My setup is as follows.</p>\n\n<ul>\n<li>home.mydomain.com points to my home ip adress</li>\n<li>My home router forwards incoming tcp and udp on port 80 to my laptop on port 8080</li>\n<li>My laptop is running Windows 10</li>\n<li>My go version is go1.6 windows/amd64</li>\n</ul>\n\n<p>My app.yaml:</p>\n\n<pre><code>application: tasks\nversion: 1\nruntime: go\napi_version: go1\n\nhandlers:\n- url:  /.*\n  script: _go_app\n</code></pre>\n\n<p>Minimum example code:</p>\n\n<pre><code>func init() {\n    fileHandler := http.FileServer(http.Dir("../frontend"))\n\n    http.HandleFunc("/loggedout", testHandler)\n    http.Handle("/", fileHandler)\n\n    log.Print(http.ListenAndServe(":8080", nil))\n}\n\nfunc testHandler(res http.ResponseWriter, req *http.Request){    \n    panic("JUST NEED THIS TO WORK")\n}\n</code></pre>\n\n<p>My symptoms is that if I access localhost:8080/ I get my website, and if I access localhost:8080/loggedout I get the expected panic.<br>\nIf I access home.mydomain.com/ I get my website, however if I access home.mydomain.com/loggedout the connection just hangs, in chromes network tab it is listed as pending indefinitely.</p>'
 '<p>As Greg pointed out, when I was using goapp I did not need to also call ListenAndServe.\nTo get goapp to listen for requests outside of localhost I also had to add --host "my laptops ip" to the command.</p>'
 "Are you running using the App Engine SDK? (goapp or dev_appserver?) Your code shouldn't be calling ListenAndServe if so. And if not, then this isn't an app engine question..."]
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>This scenario occurred because changes had been made to the network configuration on the puppet master. The network service had been restarted and changes verified manually (such as hostname and changes to /etc/hosts). The solution was simply to restart the puppet master.</p>'
 'i also have the same problem, were you able to find solution ?knocking my heads on walls for days now, even if add a notice to my nodes.pp or site.pp , i still cannot get it applied to my test host until i restart my puppet master']
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>Issue:\nwhen we make changes under environment=production we always have to restart puppet master, otherwise  new changes won\'t be picked.</p>\n\n<p>why ? because on puppet master /etc/puppet/puppet.conf environment_timeout = unlimited .\nIf we want to change this behaviour we must set environment_timeout = 0</p>\n\n<p>about  environment_timeout = unlimited\nThis setting specifies that  puppet master will cache the catalog, it exists for performance gains.</p>\n\n<p>but in test environment we often want to see our changes applied immediately.</p>\n\n<p>to do this do two things on puppet master, </p>\n\n<ol>\n<li><p>create a environment.conf under your environment directory for example /etc/puppet/environment/TEST</p></li>\n<li><p>add environment_timeout = 0</p></li>\n</ol>\n\n<p>on puppet client ( where you want to apply catalog)  do this.</p>\n\n<ol>\n<li>puppet agent -t --environment=TEST</li>\n</ol>\n\n<p>you are going to see your changes applied.</p>\n\n<p>thread helped me find solution</p>\n\n<p>(a) environment config : \n<a href="https://docs.puppet.com/puppet/3.7/environments_configuring.html" rel="nofollow noreferrer">https://docs.puppet.com/puppet/3.7/environments_configuring.html</a></p>'
 'i also have the same problem, were you able to find solution ?knocking my heads on walls for days now, even if add a notice to my nodes.pp or site.pp , i still cannot get it applied to my test host until i restart my puppet master']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 "<p>So I think the answer here is related to the fact that only UDP and TCP traffic are simple enough to get through the NAT using just the pi and port combination. I am trying to make a HTTP request over the same channel but this is more complex and therefore doesnt make it through. </p>\n\n<p>That's pretty vague, and possibly not entirely correct. So I would love to hear from any experts in the field who can add more depth to this answer or correct me.</p>"
 'It is unclear. from your question, exactly what you want to connect to what and in which way. I can make a guess, but it is better if your question is not so vague. If you want to initiate a connection, from outside your home network, to a Raspberry Pi web server behind a NAT inside your home network, then port forwarding is your only option. Why rule it out? It would be nice to know.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 '<p>The <a href="https://dashboard.ngrok.com/get-started" rel="nofollow noreferrer">ngrok</a> is the easy and free one.</p>\n\n<p>I  setup webhook for social media in five minutes when develop IM robot . </p>\n\n<p>There is a sample from <a href="https://api.slack.com/tutorials/tunneling-with-ngrok" rel="nofollow noreferrer">Slack</a>, but it apply to any social media or could solution which need webhook.</p>'
 'It is unclear. from your question, exactly what you want to connect to what and in which way. I can make a guess, but it is better if your question is not so vague. If you want to initiate a connection, from outside your home network, to a Raspberry Pi web server behind a NAT inside your home network, then port forwarding is your only option. Why rule it out? It would be nice to know.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 "<p>So I think the answer here is related to the fact that only UDP and TCP traffic are simple enough to get through the NAT using just the pi and port combination. I am trying to make a HTTP request over the same channel but this is more complex and therefore doesnt make it through. </p>\n\n<p>That's pretty vague, and possibly not entirely correct. So I would love to hear from any experts in the field who can add more depth to this answer or correct me.</p>"
 'While I dont understand how "connecting to a web server " is unclear I am happy to explain. This means making a http call to a web server, typically over port 443 or port 80.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 '<p>The <a href="https://dashboard.ngrok.com/get-started" rel="nofollow noreferrer">ngrok</a> is the easy and free one.</p>\n\n<p>I  setup webhook for social media in five minutes when develop IM robot . </p>\n\n<p>There is a sample from <a href="https://api.slack.com/tutorials/tunneling-with-ngrok" rel="nofollow noreferrer">Slack</a>, but it apply to any social media or could solution which need webhook.</p>'
 'While I dont understand how "connecting to a web server " is unclear I am happy to explain. This means making a http call to a web server, typically over port 443 or port 80.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 "<p>So I think the answer here is related to the fact that only UDP and TCP traffic are simple enough to get through the NAT using just the pi and port combination. I am trying to make a HTTP request over the same channel but this is more complex and therefore doesnt make it through. </p>\n\n<p>That's pretty vague, and possibly not entirely correct. So I would love to hear from any experts in the field who can add more depth to this answer or correct me.</p>"
 'Port forwarding is not an option as my router does not support it and regardless I want this solution to be easy for a non-technical user. For example, I can run liblinphone as a python process and place a call to my Pi through the NAT using a SIP Phone. So why cant I just as easily connect to a website on the Pi if I know the IP and port the NAT uses to identify it.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 '<p>The <a href="https://dashboard.ngrok.com/get-started" rel="nofollow noreferrer">ngrok</a> is the easy and free one.</p>\n\n<p>I  setup webhook for social media in five minutes when develop IM robot . </p>\n\n<p>There is a sample from <a href="https://api.slack.com/tutorials/tunneling-with-ngrok" rel="nofollow noreferrer">Slack</a>, but it apply to any social media or could solution which need webhook.</p>'
 'Port forwarding is not an option as my router does not support it and regardless I want this solution to be easy for a non-technical user. For example, I can run liblinphone as a python process and place a call to my Pi through the NAT using a SIP Phone. So why cant I just as easily connect to a website on the Pi if I know the IP and port the NAT uses to identify it.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 "<p>So I think the answer here is related to the fact that only UDP and TCP traffic are simple enough to get through the NAT using just the pi and port combination. I am trying to make a HTTP request over the same channel but this is more complex and therefore doesnt make it through. </p>\n\n<p>That's pretty vague, and possibly not entirely correct. So I would love to hear from any experts in the field who can add more depth to this answer or correct me.</p>"
 "The NAT assigns a new external port number dynamically, for each new connection with the outside world, established from a computer in its local network. When you start liblinphone it connects to a SIP proxy, telling it where it is located (IP & port), so it can route calls to it. Building a proxy like that can very complicated, it's much easier to replace your router by a better model that does support port forwarding. Such a router might also support UPnP (Universal Plug and Play). See: https://en.wikipedia.org/wiki/Universal_Plug_and_Play but that is not perfect either."]
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 '<p>The <a href="https://dashboard.ngrok.com/get-started" rel="nofollow noreferrer">ngrok</a> is the easy and free one.</p>\n\n<p>I  setup webhook for social media in five minutes when develop IM robot . </p>\n\n<p>There is a sample from <a href="https://api.slack.com/tutorials/tunneling-with-ngrok" rel="nofollow noreferrer">Slack</a>, but it apply to any social media or could solution which need webhook.</p>'
 "The NAT assigns a new external port number dynamically, for each new connection with the outside world, established from a computer in its local network. When you start liblinphone it connects to a SIP proxy, telling it where it is located (IP & port), so it can route calls to it. Building a proxy like that can very complicated, it's much easier to replace your router by a better model that does support port forwarding. Such a router might also support UPnP (Universal Plug and Play). See: https://en.wikipedia.org/wiki/Universal_Plug_and_Play but that is not perfect either."]
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 "<p>So I think the answer here is related to the fact that only UDP and TCP traffic are simple enough to get through the NAT using just the pi and port combination. I am trying to make a HTTP request over the same channel but this is more complex and therefore doesnt make it through. </p>\n\n<p>That's pretty vague, and possibly not entirely correct. So I would love to hear from any experts in the field who can add more depth to this answer or correct me.</p>"
 'Your answer is not helpful and is simply a distraction. This is exactly why I said dont suggest port forwarding. I am designing a solution for non technical users and all hardware.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 '<p>The <a href="https://dashboard.ngrok.com/get-started" rel="nofollow noreferrer">ngrok</a> is the easy and free one.</p>\n\n<p>I  setup webhook for social media in five minutes when develop IM robot . </p>\n\n<p>There is a sample from <a href="https://api.slack.com/tutorials/tunneling-with-ngrok" rel="nofollow noreferrer">Slack</a>, but it apply to any social media or could solution which need webhook.</p>'
 'Your answer is not helpful and is simply a distraction. This is exactly why I said dont suggest port forwarding. I am designing a solution for non technical users and all hardware.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 "<p>So I think the answer here is related to the fact that only UDP and TCP traffic are simple enough to get through the NAT using just the pi and port combination. I am trying to make a HTTP request over the same channel but this is more complex and therefore doesnt make it through. </p>\n\n<p>That's pretty vague, and possibly not entirely correct. So I would love to hear from any experts in the field who can add more depth to this answer or correct me.</p>"
 'So to add to this, I just worked out that my linphone test only allows me to call the Pi for a little while, after which I can no longer connect. I am assuming this is because after a while the NAT changes the port used to identify the Pi (something I have observed with the test page on my site). This is not directly relevant to the problem, but it provides some insight into how the NAT is working.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 '<p>The <a href="https://dashboard.ngrok.com/get-started" rel="nofollow noreferrer">ngrok</a> is the easy and free one.</p>\n\n<p>I  setup webhook for social media in five minutes when develop IM robot . </p>\n\n<p>There is a sample from <a href="https://api.slack.com/tutorials/tunneling-with-ngrok" rel="nofollow noreferrer">Slack</a>, but it apply to any social media or could solution which need webhook.</p>'
 'So to add to this, I just worked out that my linphone test only allows me to call the Pi for a little while, after which I can no longer connect. I am assuming this is because after a while the NAT changes the port used to identify the Pi (something I have observed with the test page on my site). This is not directly relevant to the problem, but it provides some insight into how the NAT is working.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 "<p>So I think the answer here is related to the fact that only UDP and TCP traffic are simple enough to get through the NAT using just the pi and port combination. I am trying to make a HTTP request over the same channel but this is more complex and therefore doesnt make it through. </p>\n\n<p>That's pretty vague, and possibly not entirely correct. So I would love to hear from any experts in the field who can add more depth to this answer or correct me.</p>"
 'As another update, I thought the issue might be that I had a Restricted Cone NAT, which would mean it would only accept packets from an address that it previously sent packets to (according to https://en.wikipedia.org/wiki/Network_address_translation). So I tried the following: 1. logged on to my server  2. from the Pi I connected to the test webpage to get the ip and port  3. I then tried to curl to a page on my Pi using the IP:port combination. The curl request simply timed out. Which leads me back to my original question of why I cannot access the Pi using the identified IP:port combination']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 '<p>The <a href="https://dashboard.ngrok.com/get-started" rel="nofollow noreferrer">ngrok</a> is the easy and free one.</p>\n\n<p>I  setup webhook for social media in five minutes when develop IM robot . </p>\n\n<p>There is a sample from <a href="https://api.slack.com/tutorials/tunneling-with-ngrok" rel="nofollow noreferrer">Slack</a>, but it apply to any social media or could solution which need webhook.</p>'
 'As another update, I thought the issue might be that I had a Restricted Cone NAT, which would mean it would only accept packets from an address that it previously sent packets to (according to https://en.wikipedia.org/wiki/Network_address_translation). So I tried the following: 1. logged on to my server  2. from the Pi I connected to the test webpage to get the ip and port  3. I then tried to curl to a page on my Pi using the IP:port combination. The curl request simply timed out. Which leads me back to my original question of why I cannot access the Pi using the identified IP:port combination']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 "<p>So I think the answer here is related to the fact that only UDP and TCP traffic are simple enough to get through the NAT using just the pi and port combination. I am trying to make a HTTP request over the same channel but this is more complex and therefore doesnt make it through. </p>\n\n<p>That's pretty vague, and possibly not entirely correct. So I would love to hear from any experts in the field who can add more depth to this answer or correct me.</p>"
 'It was not meant as a distraction, just as sound advice. You need to know a lot more about NAT to do what you want. It is, as I have indicated before, not entirely impossible. See: https://en.wikipedia.org/wiki/NAT_traversal The official term is; "Network address translator traversal". I hope this gets you further.']
[43425905
 '<p>I am interested in connecting to a web server I am running inside my home network on a Raspberry Pi. I have been reading up on how STUN servers work, and gather that they determine the port that the external facing router uses to redirect HTTP requests back to a device inside the local network. </p>\n\n<p>I have an external website and I put a php file there to report back on the IP and port that requests come from. I can see that the requests come from the IP of my home router and each device uses a consistent port when a request is made. </p>\n\n<p>If we assume my router has an external address of 123.123.123.123 and my Pi is allocated port 50500 for return requests I thought I would therefore be able to access the website on my Pi by using these combined as <a href="http://123.123.123.123:50500" rel="nofollow noreferrer">http://123.123.123.123:50500</a>. However this does not work. Should this work? </p>\n\n<p>(Note: port forwarding is not an option so please do not suggest that).</p>'
 '<p>The <a href="https://dashboard.ngrok.com/get-started" rel="nofollow noreferrer">ngrok</a> is the easy and free one.</p>\n\n<p>I  setup webhook for social media in five minutes when develop IM robot . </p>\n\n<p>There is a sample from <a href="https://api.slack.com/tutorials/tunneling-with-ngrok" rel="nofollow noreferrer">Slack</a>, but it apply to any social media or could solution which need webhook.</p>'
 'It was not meant as a distraction, just as sound advice. You need to know a lot more about NAT to do what you want. It is, as I have indicated before, not entirely impossible. See: https://en.wikipedia.org/wiki/NAT_traversal The official term is; "Network address translator traversal". I hope this gets you further.']
[47966461
 '<p>With the below Python 3 code:</p>\n\n<pre><code>from http.server import HTTPServer, SimpleHTTPRequestHandler\ns = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File "repro.py", line 2, in &lt;module&gt;\n    s = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n  File "/usr/lib/python3.6/socketserver.py", line 453, in __init__\n    self.server_bind()\n  File "/usr/lib/python3.6/http/server.py", line 136, in server_bind\n    socketserver.TCPServer.server_bind(self)\n  File "/usr/lib/python3.6/socketserver.py", line 467, in server_bind\n    self.socket.bind(self.server_address)\nOSError: [Errno 99] Cannot assign requested address\n</code></pre>\n\n<p>I\'ve noticed that 3 things will prevent this from happening:</p>\n\n<ol>\n<li>Disabling WiFi.</li>\n<li>Switching to a different WiFi network (from my home router to tethering on my phone).</li>\n<li>Changing <code>\'localhost\'</code> in the code to <code>\'127.0.0.1\'</code>.</li>\n</ol>\n\n<p>So my question is, what\'s going wrong here? Why does this code fail when it does?</p>\n\n<p>P.S. <a href="https://gist.github.com/kerrickstaley/b1fe713144f8506cdf7ab4b6bbf10baf" rel="nofollow noreferrer">Here is ip a\'s output when connected to my home router</a>, and <a href="https://gist.github.com/kerrickstaley/9c16dcac4d7cde5313c3ce46c81da2ba" rel="nofollow noreferrer">here\'s its output when tethering</a>.</p>'
 '<p>I believe the issue was that the DNS service on my home WiFi network was not returning the correct information for localhost. I ended up working around this issue by hardcoding the address as <code>127.0.0.1</code>.</p>'
 'Have you tried other available port? Port 0 is a system or well-known port as describe [here](https://en.wikipedia.org/wiki/Registered_port).']
[47966461
 '<p>With the below Python 3 code:</p>\n\n<pre><code>from http.server import HTTPServer, SimpleHTTPRequestHandler\ns = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File "repro.py", line 2, in &lt;module&gt;\n    s = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n  File "/usr/lib/python3.6/socketserver.py", line 453, in __init__\n    self.server_bind()\n  File "/usr/lib/python3.6/http/server.py", line 136, in server_bind\n    socketserver.TCPServer.server_bind(self)\n  File "/usr/lib/python3.6/socketserver.py", line 467, in server_bind\n    self.socket.bind(self.server_address)\nOSError: [Errno 99] Cannot assign requested address\n</code></pre>\n\n<p>I\'ve noticed that 3 things will prevent this from happening:</p>\n\n<ol>\n<li>Disabling WiFi.</li>\n<li>Switching to a different WiFi network (from my home router to tethering on my phone).</li>\n<li>Changing <code>\'localhost\'</code> in the code to <code>\'127.0.0.1\'</code>.</li>\n</ol>\n\n<p>So my question is, what\'s going wrong here? Why does this code fail when it does?</p>\n\n<p>P.S. <a href="https://gist.github.com/kerrickstaley/b1fe713144f8506cdf7ab4b6bbf10baf" rel="nofollow noreferrer">Here is ip a\'s output when connected to my home router</a>, and <a href="https://gist.github.com/kerrickstaley/9c16dcac4d7cde5313c3ce46c81da2ba" rel="nofollow noreferrer">here\'s its output when tethering</a>.</p>'
 '<p>i think, you cant listen in 0 port.\nI tried in node js and SocketTest. They 2 can(and cant) listen but/and cant connect to the port. Its mean it can and cant both do that.<br />\nmay this link help you <br />\n<a href="https://unix.stackexchange.com/questions/180492/is-it-possible-to-connect-to-tcp-port-0">https://unix.stackexchange.com/questions/180492/is-it-possible-to-connect-to-tcp-port-0</a> <br />\n<a href="https://docs.python.org/2/library/simplehttpserver.html" rel="nofollow noreferrer">https://docs.python.org/2/library/simplehttpserver.html</a></p>'
 'Have you tried other available port? Port 0 is a system or well-known port as describe [here](https://en.wikipedia.org/wiki/Registered_port).']
[47966461
 '<p>With the below Python 3 code:</p>\n\n<pre><code>from http.server import HTTPServer, SimpleHTTPRequestHandler\ns = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File "repro.py", line 2, in &lt;module&gt;\n    s = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n  File "/usr/lib/python3.6/socketserver.py", line 453, in __init__\n    self.server_bind()\n  File "/usr/lib/python3.6/http/server.py", line 136, in server_bind\n    socketserver.TCPServer.server_bind(self)\n  File "/usr/lib/python3.6/socketserver.py", line 467, in server_bind\n    self.socket.bind(self.server_address)\nOSError: [Errno 99] Cannot assign requested address\n</code></pre>\n\n<p>I\'ve noticed that 3 things will prevent this from happening:</p>\n\n<ol>\n<li>Disabling WiFi.</li>\n<li>Switching to a different WiFi network (from my home router to tethering on my phone).</li>\n<li>Changing <code>\'localhost\'</code> in the code to <code>\'127.0.0.1\'</code>.</li>\n</ol>\n\n<p>So my question is, what\'s going wrong here? Why does this code fail when it does?</p>\n\n<p>P.S. <a href="https://gist.github.com/kerrickstaley/b1fe713144f8506cdf7ab4b6bbf10baf" rel="nofollow noreferrer">Here is ip a\'s output when connected to my home router</a>, and <a href="https://gist.github.com/kerrickstaley/9c16dcac4d7cde5313c3ce46c81da2ba" rel="nofollow noreferrer">here\'s its output when tethering</a>.</p>'
 '<p>I believe the issue was that the DNS service on my home WiFi network was not returning the correct information for localhost. I ended up working around this issue by hardcoding the address as <code>127.0.0.1</code>.</p>'
 'If changing from `localhost` to `127.0.0.1` fixes it, it sounds like a DNS problem. What does `dig localhost` show?']
[47966461
 '<p>With the below Python 3 code:</p>\n\n<pre><code>from http.server import HTTPServer, SimpleHTTPRequestHandler\ns = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File "repro.py", line 2, in &lt;module&gt;\n    s = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n  File "/usr/lib/python3.6/socketserver.py", line 453, in __init__\n    self.server_bind()\n  File "/usr/lib/python3.6/http/server.py", line 136, in server_bind\n    socketserver.TCPServer.server_bind(self)\n  File "/usr/lib/python3.6/socketserver.py", line 467, in server_bind\n    self.socket.bind(self.server_address)\nOSError: [Errno 99] Cannot assign requested address\n</code></pre>\n\n<p>I\'ve noticed that 3 things will prevent this from happening:</p>\n\n<ol>\n<li>Disabling WiFi.</li>\n<li>Switching to a different WiFi network (from my home router to tethering on my phone).</li>\n<li>Changing <code>\'localhost\'</code> in the code to <code>\'127.0.0.1\'</code>.</li>\n</ol>\n\n<p>So my question is, what\'s going wrong here? Why does this code fail when it does?</p>\n\n<p>P.S. <a href="https://gist.github.com/kerrickstaley/b1fe713144f8506cdf7ab4b6bbf10baf" rel="nofollow noreferrer">Here is ip a\'s output when connected to my home router</a>, and <a href="https://gist.github.com/kerrickstaley/9c16dcac4d7cde5313c3ce46c81da2ba" rel="nofollow noreferrer">here\'s its output when tethering</a>.</p>'
 '<p>i think, you cant listen in 0 port.\nI tried in node js and SocketTest. They 2 can(and cant) listen but/and cant connect to the port. Its mean it can and cant both do that.<br />\nmay this link help you <br />\n<a href="https://unix.stackexchange.com/questions/180492/is-it-possible-to-connect-to-tcp-port-0">https://unix.stackexchange.com/questions/180492/is-it-possible-to-connect-to-tcp-port-0</a> <br />\n<a href="https://docs.python.org/2/library/simplehttpserver.html" rel="nofollow noreferrer">https://docs.python.org/2/library/simplehttpserver.html</a></p>'
 'If changing from `localhost` to `127.0.0.1` fixes it, it sounds like a DNS problem. What does `dig localhost` show?']
[47966461
 '<p>With the below Python 3 code:</p>\n\n<pre><code>from http.server import HTTPServer, SimpleHTTPRequestHandler\ns = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File "repro.py", line 2, in &lt;module&gt;\n    s = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n  File "/usr/lib/python3.6/socketserver.py", line 453, in __init__\n    self.server_bind()\n  File "/usr/lib/python3.6/http/server.py", line 136, in server_bind\n    socketserver.TCPServer.server_bind(self)\n  File "/usr/lib/python3.6/socketserver.py", line 467, in server_bind\n    self.socket.bind(self.server_address)\nOSError: [Errno 99] Cannot assign requested address\n</code></pre>\n\n<p>I\'ve noticed that 3 things will prevent this from happening:</p>\n\n<ol>\n<li>Disabling WiFi.</li>\n<li>Switching to a different WiFi network (from my home router to tethering on my phone).</li>\n<li>Changing <code>\'localhost\'</code> in the code to <code>\'127.0.0.1\'</code>.</li>\n</ol>\n\n<p>So my question is, what\'s going wrong here? Why does this code fail when it does?</p>\n\n<p>P.S. <a href="https://gist.github.com/kerrickstaley/b1fe713144f8506cdf7ab4b6bbf10baf" rel="nofollow noreferrer">Here is ip a\'s output when connected to my home router</a>, and <a href="https://gist.github.com/kerrickstaley/9c16dcac4d7cde5313c3ce46c81da2ba" rel="nofollow noreferrer">here\'s its output when tethering</a>.</p>'
 '<p>I believe the issue was that the DNS service on my home WiFi network was not returning the correct information for localhost. I ended up working around this issue by hardcoding the address as <code>127.0.0.1</code>.</p>'
 'Your `ip a` output is missing the important bits, i.e. the interface `lo`. Please add this information.']
[47966461
 '<p>With the below Python 3 code:</p>\n\n<pre><code>from http.server import HTTPServer, SimpleHTTPRequestHandler\ns = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File "repro.py", line 2, in &lt;module&gt;\n    s = HTTPServer((\'localhost\', 0), SimpleHTTPRequestHandler)\n  File "/usr/lib/python3.6/socketserver.py", line 453, in __init__\n    self.server_bind()\n  File "/usr/lib/python3.6/http/server.py", line 136, in server_bind\n    socketserver.TCPServer.server_bind(self)\n  File "/usr/lib/python3.6/socketserver.py", line 467, in server_bind\n    self.socket.bind(self.server_address)\nOSError: [Errno 99] Cannot assign requested address\n</code></pre>\n\n<p>I\'ve noticed that 3 things will prevent this from happening:</p>\n\n<ol>\n<li>Disabling WiFi.</li>\n<li>Switching to a different WiFi network (from my home router to tethering on my phone).</li>\n<li>Changing <code>\'localhost\'</code> in the code to <code>\'127.0.0.1\'</code>.</li>\n</ol>\n\n<p>So my question is, what\'s going wrong here? Why does this code fail when it does?</p>\n\n<p>P.S. <a href="https://gist.github.com/kerrickstaley/b1fe713144f8506cdf7ab4b6bbf10baf" rel="nofollow noreferrer">Here is ip a\'s output when connected to my home router</a>, and <a href="https://gist.github.com/kerrickstaley/9c16dcac4d7cde5313c3ce46c81da2ba" rel="nofollow noreferrer">here\'s its output when tethering</a>.</p>'
 '<p>i think, you cant listen in 0 port.\nI tried in node js and SocketTest. They 2 can(and cant) listen but/and cant connect to the port. Its mean it can and cant both do that.<br />\nmay this link help you <br />\n<a href="https://unix.stackexchange.com/questions/180492/is-it-possible-to-connect-to-tcp-port-0">https://unix.stackexchange.com/questions/180492/is-it-possible-to-connect-to-tcp-port-0</a> <br />\n<a href="https://docs.python.org/2/library/simplehttpserver.html" rel="nofollow noreferrer">https://docs.python.org/2/library/simplehttpserver.html</a></p>'
 'Your `ip a` output is missing the important bits, i.e. the interface `lo`. Please add this information.']
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>This scenario occurred because changes had been made to the network configuration on the puppet master. The network service had been restarted and changes verified manually (such as hostname and changes to /etc/hosts). The solution was simply to restart the puppet master.</p>'
 'How long are you waiting after editing the manifest?']
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>Issue:\nwhen we make changes under environment=production we always have to restart puppet master, otherwise  new changes won\'t be picked.</p>\n\n<p>why ? because on puppet master /etc/puppet/puppet.conf environment_timeout = unlimited .\nIf we want to change this behaviour we must set environment_timeout = 0</p>\n\n<p>about  environment_timeout = unlimited\nThis setting specifies that  puppet master will cache the catalog, it exists for performance gains.</p>\n\n<p>but in test environment we often want to see our changes applied immediately.</p>\n\n<p>to do this do two things on puppet master, </p>\n\n<ol>\n<li><p>create a environment.conf under your environment directory for example /etc/puppet/environment/TEST</p></li>\n<li><p>add environment_timeout = 0</p></li>\n</ol>\n\n<p>on puppet client ( where you want to apply catalog)  do this.</p>\n\n<ol>\n<li>puppet agent -t --environment=TEST</li>\n</ol>\n\n<p>you are going to see your changes applied.</p>\n\n<p>thread helped me find solution</p>\n\n<p>(a) environment config : \n<a href="https://docs.puppet.com/puppet/3.7/environments_configuring.html" rel="nofollow noreferrer">https://docs.puppet.com/puppet/3.7/environments_configuring.html</a></p>'
 'How long are you waiting after editing the manifest?']
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>This scenario occurred because changes had been made to the network configuration on the puppet master. The network service had been restarted and changes verified manually (such as hostname and changes to /etc/hosts). The solution was simply to restart the puppet master.</p>'
 'I could leave it overnight. I set the frequency to 5m since I am only testing']
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>Issue:\nwhen we make changes under environment=production we always have to restart puppet master, otherwise  new changes won\'t be picked.</p>\n\n<p>why ? because on puppet master /etc/puppet/puppet.conf environment_timeout = unlimited .\nIf we want to change this behaviour we must set environment_timeout = 0</p>\n\n<p>about  environment_timeout = unlimited\nThis setting specifies that  puppet master will cache the catalog, it exists for performance gains.</p>\n\n<p>but in test environment we often want to see our changes applied immediately.</p>\n\n<p>to do this do two things on puppet master, </p>\n\n<ol>\n<li><p>create a environment.conf under your environment directory for example /etc/puppet/environment/TEST</p></li>\n<li><p>add environment_timeout = 0</p></li>\n</ol>\n\n<p>on puppet client ( where you want to apply catalog)  do this.</p>\n\n<ol>\n<li>puppet agent -t --environment=TEST</li>\n</ol>\n\n<p>you are going to see your changes applied.</p>\n\n<p>thread helped me find solution</p>\n\n<p>(a) environment config : \n<a href="https://docs.puppet.com/puppet/3.7/environments_configuring.html" rel="nofollow noreferrer">https://docs.puppet.com/puppet/3.7/environments_configuring.html</a></p>'
 'I could leave it overnight. I set the frequency to 5m since I am only testing']
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>This scenario occurred because changes had been made to the network configuration on the puppet master. The network service had been restarted and changes verified manually (such as hostname and changes to /etc/hosts). The solution was simply to restart the puppet master.</p>'
 'I could leave it overnight. I set the frequency to 5m since I am only testing. I just changed it to 30 (for 30 seconds to see if it made a difference) but no effect. The compile writes to stdout but it must also be redirecting to a file for it to be processed when the master is restarted.']
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>Issue:\nwhen we make changes under environment=production we always have to restart puppet master, otherwise  new changes won\'t be picked.</p>\n\n<p>why ? because on puppet master /etc/puppet/puppet.conf environment_timeout = unlimited .\nIf we want to change this behaviour we must set environment_timeout = 0</p>\n\n<p>about  environment_timeout = unlimited\nThis setting specifies that  puppet master will cache the catalog, it exists for performance gains.</p>\n\n<p>but in test environment we often want to see our changes applied immediately.</p>\n\n<p>to do this do two things on puppet master, </p>\n\n<ol>\n<li><p>create a environment.conf under your environment directory for example /etc/puppet/environment/TEST</p></li>\n<li><p>add environment_timeout = 0</p></li>\n</ol>\n\n<p>on puppet client ( where you want to apply catalog)  do this.</p>\n\n<ol>\n<li>puppet agent -t --environment=TEST</li>\n</ol>\n\n<p>you are going to see your changes applied.</p>\n\n<p>thread helped me find solution</p>\n\n<p>(a) environment config : \n<a href="https://docs.puppet.com/puppet/3.7/environments_configuring.html" rel="nofollow noreferrer">https://docs.puppet.com/puppet/3.7/environments_configuring.html</a></p>'
 'I could leave it overnight. I set the frequency to 5m since I am only testing. I just changed it to 30 (for 30 seconds to see if it made a difference) but no effect. The compile writes to stdout but it must also be redirecting to a file for it to be processed when the master is restarted.']
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>This scenario occurred because changes had been made to the network configuration on the puppet master. The network service had been restarted and changes verified manually (such as hostname and changes to /etc/hosts). The solution was simply to restart the puppet master.</p>'
 'Could this be a [caching](https://docs.puppetlabs.com/puppetserver/latest/admin-api/v1/environment-cache.html) problem?']
[31220117
 '<p>In short, changes to site.pp are only reflected on agents after the puppet master has been restarted.</p>\n\n<p>This is supposed to be an OOTB install on separate master and node VM\'s with minimal config changes - basically dns_alt_names and /etc/hosts + certificates). There are no coms issues between master and node.</p>\n\n<p>On my master I have a file,\n/etc/puppetlabs/code/environments/production/manifests/site.pp\ncontaining:</p>\n\n<pre><code> node "slave1.home" {\n   user { "kevin":\n      ensure     =&gt; present,\n      membership =&gt; minimum,\n      shell      =&gt; "/bin/bash",\n   }\n\n }\n</code></pre>\n\n<p>After running puppet agent -t on the agent node (and the catch is only after the master has been restarted) the change is affected. I can see a file has been transferred from the master to my agent node in the location, \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwhich contains the details of the user \'kevin\' and the user is successfully created.</p>\n\n<p>If I change site.pp on the puppet master (e.g. so the user is now "kevino22y", for example. I then (probably wrongly) try to compile for the node slave1.home</p>\n\n<p>e.g.</p>\n\n<p>puppet master  --compile slave1.home</p>\n\n<p>On the terminal I see</p>\n\n<pre><code>Notice: Compiled catalog for slave1.home in environment production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n  {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n      "name": "main"\n  }\n  },\n  {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n  },\n  {\n      "type": "Class",\n      "title": "main",\n      "tags": ["class"],\n      "exported": false,\n      "parameters": {Notice: Compiled catalog for slave1.home in environment        production in 0.28 seconds\n{\n  "tags": ["settings","slave1.home","node"],\n  "name": "slave1.home",\n  "version": 1436006611,\n  "environment": "production",\n  "resources": [\n    {\n      "type": "Stage",\n      "title": "main",\n      "tags": ["stage"],\n      "exported": false,\n      "parameters": {\n         "name": "main"\n      }\n    },\n    {\n      "type": "Class",\n      "title": "Settings",\n      "tags": ["class","settings"],\n      "exported": false\n    },\n   {\n     "type": "Class",\n     "title": "main",\n     "tags": ["class"],\n     "exported": false,\n     "parameters": {\n      "name": "main"\n    }\n   },\n   {\n      "type": "Node",\n      "title": "slave1.home",\n      "tags": ["node","slave1.home","class"],\n      "exported": false\n    },\n    {\n      "type": "User",\n      "title": "kevino22y",\n      "tags": ["user","kevino22y","node","slave1.home","class"],\n      "file":      "/etc/puppetlabs/code/environments/production/manifests/site.pp",\n      "line": 2,\n      "exported": false,\n      "parameters": {\n      "ensure": "present",\n      "membership": "minimum",\n      "shell": "/bin/bash"\n     }\n   }\n  ],\n  "edges": [\n    {\n     "source": "Stage[main]",\n     "target": "Class[Settings]"\n   },\n   {\n     "source": "Stage[main]",\n     "target": "Class[main]"\n   },\n   {\n     "source": "Class[main]",\n     "target": "Node[slave1.home]"\n   },\n   {\n     "source": "Node[slave1.home]",\n     "target": "User[kevino22y]"\n   }\n ],\n "classes": [\n   "settings",\n   "slave1.home"\n ]\n}\n</code></pre>\n\n<p>If I then return to my slave1.home and run,\n   puppet agent -t</p>\n\n<p>I see a new copy of the original \n/opt/puppetlabs/puppet/cache/client_data/catalog/slave1.home.json\nwith the original \'kevin\' user so changes that I expected to appear after compiling are not there.</p>\n\n<p>So it seems that the agent\'s fetching process is good but fetches outdated info.\nIt only refreshes if I stop and start the puppet master service - not after compiling.</p>\n\n<p>So it further seems I am missing executing a step which is executed by the restarting of the puppet master process.</p>\n\n<p>Probably going to kick myself when someone tells me what I have missed.\nThanks for the help with the newbie question.</p>\n\n<p>Kevin</p>\n\n<p>---edit ---</p>\n\n<p>Still trying to diagnose and added a new server (agent called cs1)</p>\n\n<p>If I :\n[root@cs1 Desktop]# puppet agent -t\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for cs1.home\nInfo: Applying configuration version \'1436032639\'\nNotice: Applied catalog in 0.02 seconds\n[root@cs1 Desktop]# </p>\n\n<p>Then on master using:\npuppet master --no-daemonize --debug >/tmp/master.txt\nand tailing the log</p>\n\n<pre><code>Debug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/node/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: node supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/pluginfacts")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/file_metadatas/plugins")\nDebug: Evaluating match for Route /.*/\nDebug: Warning: calling Plugins.search with empty module path.\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: file_metadata supports formats: pson yaml binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/catalog/cs1.home")\nDebug: Evaluating match for Route /.*/\nInfo: Caching node for cs1.home\nNotice: Compiled catalog for cs1.home in environment production in 0.00 seconds\nDebug: Puppet::Network::Format[msgpack]: feature msgpack is missing\nDebug: catalog supports formats: pson yaml dot binary\nDebug: Routes Registered:\nDebug: Route /^\\/puppet\\//\nDebug: Route /^\\/puppet-ca\\//\nDebug: Route /.*/\nDebug: Evaluating match for Route /^\\/puppet\\//\nDebug: Evaluating match for Route /v3/\nDebug: Evaluating match for Route /^\\/environments$/\nDebug: Did not match path ("/report/cs1.home")\nDebug: Evaluating match for Route /.*/\nDebug: Received report to process from cs1.home\nDebug: Processing report from cs1.home with processor Puppet::Reports::Store\n</code></pre>\n\n<p>I\'m not entirely sure where the ".home" is coming from. I read on the internet it may be being put on by the home router (?) but my fqdn\'s are of the format cs1.localdomain but the /etc/hosts contain xxx.xxx.xxx.xxx cs1.localdomain cs1 cs1.home</p>\n\n<p>-- Edit 2 --</p>\n\n<p>FYI, when running puppet agent -t I get 5 files delivered from the server which do not reflect the compiled changes.</p>\n\n<p>[root@cs1 Desktop]# find /opt/puppetlabs/ -type f -mmin -3 -exec ls -al {} \\; \n-rw-rw---- 1 root root 1290 Jul  6 14:56 /opt/puppetlabs/puppet/cache/client_data/catalog/cs1.home.json\n-rw-r----- 1 root root 7628 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_report.yaml\n-rw-r----- 1 root root 29 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/resources.txt\n-rw-r--r-- 1 root root 407 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/last_run_summary.yaml\n-rw-rw---- 1 root root 3655 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/state.yaml\n-rw-r----- 1 root root 18 Jul  6 14:56 /opt/puppetlabs/puppet/cache/state/classes.txt</p>'
 '<p>Issue:\nwhen we make changes under environment=production we always have to restart puppet master, otherwise  new changes won\'t be picked.</p>\n\n<p>why ? because on puppet master /etc/puppet/puppet.conf environment_timeout = unlimited .\nIf we want to change this behaviour we must set environment_timeout = 0</p>\n\n<p>about  environment_timeout = unlimited\nThis setting specifies that  puppet master will cache the catalog, it exists for performance gains.</p>\n\n<p>but in test environment we often want to see our changes applied immediately.</p>\n\n<p>to do this do two things on puppet master, </p>\n\n<ol>\n<li><p>create a environment.conf under your environment directory for example /etc/puppet/environment/TEST</p></li>\n<li><p>add environment_timeout = 0</p></li>\n</ol>\n\n<p>on puppet client ( where you want to apply catalog)  do this.</p>\n\n<ol>\n<li>puppet agent -t --environment=TEST</li>\n</ol>\n\n<p>you are going to see your changes applied.</p>\n\n<p>thread helped me find solution</p>\n\n<p>(a) environment config : \n<a href="https://docs.puppet.com/puppet/3.7/environments_configuring.html" rel="nofollow noreferrer">https://docs.puppet.com/puppet/3.7/environments_configuring.html</a></p>'
 'Could this be a [caching](https://docs.puppetlabs.com/puppetserver/latest/admin-api/v1/environment-cache.html) problem?']
[46431985
 "<p>Hoping someone might have an idea -</p>\n\n<p>I've been exploring my home router which is running Linux 3.4.11-rt19. I enabled conntrack accounting using <code>echo 1 &gt; /proc/sys/net/netfilter/nf_conntrack_acct</code> and have been looking at <code>/proc/net/ip_conntrack</code> as I browse to various websites.</p>\n\n<p>My problem is that as I am loading a relatively heavy site with flash animations, graphics, ads etc., the <code>cat /proc/net/ip_conntrack</code> command will occasionally crash the router. This happens pretty frequently - I can easily crash the router within a minute or two.</p>\n\n<p>The crash does not reproduce if I do not enable conntrack accounting.</p>\n\n<p>I was looking at the netfilter code trying to spot potential race conditions or missing locks but came up empty. I also tried to examine the differences in netfilter code against later Linux versions without success.</p>\n\n<p>Are there any ways for me to debug this? Or is this a known issue? By any chance is there a workaround that does not require me to re-implement this <code>proc</code> file in kernel mode?</p>"
 '<p>One of the possible reason of crashing is may be the low memory of the router as while processing your request while netfilter  accounting enabled , as it is not able to process the website containing flash etc.</p>\n\n<p>As ,  a solution of this u can use custom made router based on full Linux support which u can install on a low end , scrap old PC or single board computers available in the market.</p>\n\n<p>There are many Linux distros are available , some famous one are like </p>\n\n<blockquote>\n  <p><strong>pfsense</strong>  </p>\n</blockquote>\n\n<p><strong><em>strong text</em></strong></p>\n\n<blockquote>\n  <p><strong>Smoothwall</strong></p>\n</blockquote>\n\n<p>etc.</p>'
 'Could you please attach a crash log? Is kernel backtrace the same for every crash?']
[46431985
 "<p>Hoping someone might have an idea -</p>\n\n<p>I've been exploring my home router which is running Linux 3.4.11-rt19. I enabled conntrack accounting using <code>echo 1 &gt; /proc/sys/net/netfilter/nf_conntrack_acct</code> and have been looking at <code>/proc/net/ip_conntrack</code> as I browse to various websites.</p>\n\n<p>My problem is that as I am loading a relatively heavy site with flash animations, graphics, ads etc., the <code>cat /proc/net/ip_conntrack</code> command will occasionally crash the router. This happens pretty frequently - I can easily crash the router within a minute or two.</p>\n\n<p>The crash does not reproduce if I do not enable conntrack accounting.</p>\n\n<p>I was looking at the netfilter code trying to spot potential race conditions or missing locks but came up empty. I also tried to examine the differences in netfilter code against later Linux versions without success.</p>\n\n<p>Are there any ways for me to debug this? Or is this a known issue? By any chance is there a workaround that does not require me to re-implement this <code>proc</code> file in kernel mode?</p>"
 '<p>At first I\'d try to disable reboot on panic:</p>\n\n<pre><code>echo 0 &gt;/proc/sys/kernel/panic\n</code></pre>\n\n<p>Then I\'d try to disable panic on oops and some other situations:</p>\n\n<pre><code>echo 0 &gt;/proc/sys/kernel/panic_on_oops\necho 0 &gt;/proc/sys/kernel/panic_on_stackoverflow\necho 0 &gt;/proc/sys/kernel/panic_on_unrecovered_nmi\necho 0 &gt;/proc/sys/kernel/panic_on_rcu_stall\necho 0 &gt;/proc/sys/kernel/panic_on_warn\n</code></pre>\n\n<p>This could give you a chance to keep control your router over issue.</p>\n\n<p>Also if your kernel has built-in netconsole driver or standalone netconsole module, you could setup logging kernel messages to another machine. Look at <a href="https://www.kernel.org/doc/Documentation/networking/netconsole.txt" rel="nofollow noreferrer">Kernel Netconsole documentation</a> to find out how to configure it dynamically.</p>\n\n<p>Anyway, the important step to solve/understand an issue is to get kernel log on crash.</p>'
 'Could you please attach a crash log? Is kernel backtrace the same for every crash?']
[46431985
 "<p>Hoping someone might have an idea -</p>\n\n<p>I've been exploring my home router which is running Linux 3.4.11-rt19. I enabled conntrack accounting using <code>echo 1 &gt; /proc/sys/net/netfilter/nf_conntrack_acct</code> and have been looking at <code>/proc/net/ip_conntrack</code> as I browse to various websites.</p>\n\n<p>My problem is that as I am loading a relatively heavy site with flash animations, graphics, ads etc., the <code>cat /proc/net/ip_conntrack</code> command will occasionally crash the router. This happens pretty frequently - I can easily crash the router within a minute or two.</p>\n\n<p>The crash does not reproduce if I do not enable conntrack accounting.</p>\n\n<p>I was looking at the netfilter code trying to spot potential race conditions or missing locks but came up empty. I also tried to examine the differences in netfilter code against later Linux versions without success.</p>\n\n<p>Are there any ways for me to debug this? Or is this a known issue? By any chance is there a workaround that does not require me to re-implement this <code>proc</code> file in kernel mode?</p>"
 '<p>One of the possible reason of crashing is may be the low memory of the router as while processing your request while netfilter  accounting enabled , as it is not able to process the website containing flash etc.</p>\n\n<p>As ,  a solution of this u can use custom made router based on full Linux support which u can install on a low end , scrap old PC or single board computers available in the market.</p>\n\n<p>There are many Linux distros are available , some famous one are like </p>\n\n<blockquote>\n  <p><strong>pfsense</strong>  </p>\n</blockquote>\n\n<p><strong><em>strong text</em></strong></p>\n\n<blockquote>\n  <p><strong>Smoothwall</strong></p>\n</blockquote>\n\n<p>etc.</p>'
 "Unfortunately I can't - when the router crashes I lose all access to it, and it then boots up with no record of the crash (at least, none that I could find). Maybe there's a way to control this, but I couldn't find one."]
[46431985
 "<p>Hoping someone might have an idea -</p>\n\n<p>I've been exploring my home router which is running Linux 3.4.11-rt19. I enabled conntrack accounting using <code>echo 1 &gt; /proc/sys/net/netfilter/nf_conntrack_acct</code> and have been looking at <code>/proc/net/ip_conntrack</code> as I browse to various websites.</p>\n\n<p>My problem is that as I am loading a relatively heavy site with flash animations, graphics, ads etc., the <code>cat /proc/net/ip_conntrack</code> command will occasionally crash the router. This happens pretty frequently - I can easily crash the router within a minute or two.</p>\n\n<p>The crash does not reproduce if I do not enable conntrack accounting.</p>\n\n<p>I was looking at the netfilter code trying to spot potential race conditions or missing locks but came up empty. I also tried to examine the differences in netfilter code against later Linux versions without success.</p>\n\n<p>Are there any ways for me to debug this? Or is this a known issue? By any chance is there a workaround that does not require me to re-implement this <code>proc</code> file in kernel mode?</p>"
 '<p>At first I\'d try to disable reboot on panic:</p>\n\n<pre><code>echo 0 &gt;/proc/sys/kernel/panic\n</code></pre>\n\n<p>Then I\'d try to disable panic on oops and some other situations:</p>\n\n<pre><code>echo 0 &gt;/proc/sys/kernel/panic_on_oops\necho 0 &gt;/proc/sys/kernel/panic_on_stackoverflow\necho 0 &gt;/proc/sys/kernel/panic_on_unrecovered_nmi\necho 0 &gt;/proc/sys/kernel/panic_on_rcu_stall\necho 0 &gt;/proc/sys/kernel/panic_on_warn\n</code></pre>\n\n<p>This could give you a chance to keep control your router over issue.</p>\n\n<p>Also if your kernel has built-in netconsole driver or standalone netconsole module, you could setup logging kernel messages to another machine. Look at <a href="https://www.kernel.org/doc/Documentation/networking/netconsole.txt" rel="nofollow noreferrer">Kernel Netconsole documentation</a> to find out how to configure it dynamically.</p>\n\n<p>Anyway, the important step to solve/understand an issue is to get kernel log on crash.</p>'
 "Unfortunately I can't - when the router crashes I lose all access to it, and it then boots up with no record of the crash (at least, none that I could find). Maybe there's a way to control this, but I couldn't find one."]
[46431985
 "<p>Hoping someone might have an idea -</p>\n\n<p>I've been exploring my home router which is running Linux 3.4.11-rt19. I enabled conntrack accounting using <code>echo 1 &gt; /proc/sys/net/netfilter/nf_conntrack_acct</code> and have been looking at <code>/proc/net/ip_conntrack</code> as I browse to various websites.</p>\n\n<p>My problem is that as I am loading a relatively heavy site with flash animations, graphics, ads etc., the <code>cat /proc/net/ip_conntrack</code> command will occasionally crash the router. This happens pretty frequently - I can easily crash the router within a minute or two.</p>\n\n<p>The crash does not reproduce if I do not enable conntrack accounting.</p>\n\n<p>I was looking at the netfilter code trying to spot potential race conditions or missing locks but came up empty. I also tried to examine the differences in netfilter code against later Linux versions without success.</p>\n\n<p>Are there any ways for me to debug this? Or is this a known issue? By any chance is there a workaround that does not require me to re-implement this <code>proc</code> file in kernel mode?</p>"
 '<p>One of the possible reason of crashing is may be the low memory of the router as while processing your request while netfilter  accounting enabled , as it is not able to process the website containing flash etc.</p>\n\n<p>As ,  a solution of this u can use custom made router based on full Linux support which u can install on a low end , scrap old PC or single board computers available in the market.</p>\n\n<p>There are many Linux distros are available , some famous one are like </p>\n\n<blockquote>\n  <p><strong>pfsense</strong>  </p>\n</blockquote>\n\n<p><strong><em>strong text</em></strong></p>\n\n<blockquote>\n  <p><strong>Smoothwall</strong></p>\n</blockquote>\n\n<p>etc.</p>'
 '@MrCryo not sure you saw my reply since I didn\'t address it to you with "@\'...']
[46431985
 "<p>Hoping someone might have an idea -</p>\n\n<p>I've been exploring my home router which is running Linux 3.4.11-rt19. I enabled conntrack accounting using <code>echo 1 &gt; /proc/sys/net/netfilter/nf_conntrack_acct</code> and have been looking at <code>/proc/net/ip_conntrack</code> as I browse to various websites.</p>\n\n<p>My problem is that as I am loading a relatively heavy site with flash animations, graphics, ads etc., the <code>cat /proc/net/ip_conntrack</code> command will occasionally crash the router. This happens pretty frequently - I can easily crash the router within a minute or two.</p>\n\n<p>The crash does not reproduce if I do not enable conntrack accounting.</p>\n\n<p>I was looking at the netfilter code trying to spot potential race conditions or missing locks but came up empty. I also tried to examine the differences in netfilter code against later Linux versions without success.</p>\n\n<p>Are there any ways for me to debug this? Or is this a known issue? By any chance is there a workaround that does not require me to re-implement this <code>proc</code> file in kernel mode?</p>"
 '<p>At first I\'d try to disable reboot on panic:</p>\n\n<pre><code>echo 0 &gt;/proc/sys/kernel/panic\n</code></pre>\n\n<p>Then I\'d try to disable panic on oops and some other situations:</p>\n\n<pre><code>echo 0 &gt;/proc/sys/kernel/panic_on_oops\necho 0 &gt;/proc/sys/kernel/panic_on_stackoverflow\necho 0 &gt;/proc/sys/kernel/panic_on_unrecovered_nmi\necho 0 &gt;/proc/sys/kernel/panic_on_rcu_stall\necho 0 &gt;/proc/sys/kernel/panic_on_warn\n</code></pre>\n\n<p>This could give you a chance to keep control your router over issue.</p>\n\n<p>Also if your kernel has built-in netconsole driver or standalone netconsole module, you could setup logging kernel messages to another machine. Look at <a href="https://www.kernel.org/doc/Documentation/networking/netconsole.txt" rel="nofollow noreferrer">Kernel Netconsole documentation</a> to find out how to configure it dynamically.</p>\n\n<p>Anyway, the important step to solve/understand an issue is to get kernel log on crash.</p>'
 '@MrCryo not sure you saw my reply since I didn\'t address it to you with "@\'...']
[46431985
 "<p>Hoping someone might have an idea -</p>\n\n<p>I've been exploring my home router which is running Linux 3.4.11-rt19. I enabled conntrack accounting using <code>echo 1 &gt; /proc/sys/net/netfilter/nf_conntrack_acct</code> and have been looking at <code>/proc/net/ip_conntrack</code> as I browse to various websites.</p>\n\n<p>My problem is that as I am loading a relatively heavy site with flash animations, graphics, ads etc., the <code>cat /proc/net/ip_conntrack</code> command will occasionally crash the router. This happens pretty frequently - I can easily crash the router within a minute or two.</p>\n\n<p>The crash does not reproduce if I do not enable conntrack accounting.</p>\n\n<p>I was looking at the netfilter code trying to spot potential race conditions or missing locks but came up empty. I also tried to examine the differences in netfilter code against later Linux versions without success.</p>\n\n<p>Are there any ways for me to debug this? Or is this a known issue? By any chance is there a workaround that does not require me to re-implement this <code>proc</code> file in kernel mode?</p>"
 '<p>One of the possible reason of crashing is may be the low memory of the router as while processing your request while netfilter  accounting enabled , as it is not able to process the website containing flash etc.</p>\n\n<p>As ,  a solution of this u can use custom made router based on full Linux support which u can install on a low end , scrap old PC or single board computers available in the market.</p>\n\n<p>There are many Linux distros are available , some famous one are like </p>\n\n<blockquote>\n  <p><strong>pfsense</strong>  </p>\n</blockquote>\n\n<p><strong><em>strong text</em></strong></p>\n\n<blockquote>\n  <p><strong>Smoothwall</strong></p>\n</blockquote>\n\n<p>etc.</p>'
 'I added the answer as comment has length limit.']
[46431985
 "<p>Hoping someone might have an idea -</p>\n\n<p>I've been exploring my home router which is running Linux 3.4.11-rt19. I enabled conntrack accounting using <code>echo 1 &gt; /proc/sys/net/netfilter/nf_conntrack_acct</code> and have been looking at <code>/proc/net/ip_conntrack</code> as I browse to various websites.</p>\n\n<p>My problem is that as I am loading a relatively heavy site with flash animations, graphics, ads etc., the <code>cat /proc/net/ip_conntrack</code> command will occasionally crash the router. This happens pretty frequently - I can easily crash the router within a minute or two.</p>\n\n<p>The crash does not reproduce if I do not enable conntrack accounting.</p>\n\n<p>I was looking at the netfilter code trying to spot potential race conditions or missing locks but came up empty. I also tried to examine the differences in netfilter code against later Linux versions without success.</p>\n\n<p>Are there any ways for me to debug this? Or is this a known issue? By any chance is there a workaround that does not require me to re-implement this <code>proc</code> file in kernel mode?</p>"
 '<p>At first I\'d try to disable reboot on panic:</p>\n\n<pre><code>echo 0 &gt;/proc/sys/kernel/panic\n</code></pre>\n\n<p>Then I\'d try to disable panic on oops and some other situations:</p>\n\n<pre><code>echo 0 &gt;/proc/sys/kernel/panic_on_oops\necho 0 &gt;/proc/sys/kernel/panic_on_stackoverflow\necho 0 &gt;/proc/sys/kernel/panic_on_unrecovered_nmi\necho 0 &gt;/proc/sys/kernel/panic_on_rcu_stall\necho 0 &gt;/proc/sys/kernel/panic_on_warn\n</code></pre>\n\n<p>This could give you a chance to keep control your router over issue.</p>\n\n<p>Also if your kernel has built-in netconsole driver or standalone netconsole module, you could setup logging kernel messages to another machine. Look at <a href="https://www.kernel.org/doc/Documentation/networking/netconsole.txt" rel="nofollow noreferrer">Kernel Netconsole documentation</a> to find out how to configure it dynamically.</p>\n\n<p>Anyway, the important step to solve/understand an issue is to get kernel log on crash.</p>'
 'I added the answer as comment has length limit.']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>Looks like a bug, <a href="https://bugs.chromium.org/p/chromedriver/issues/detail?id=1917&amp;q=authentication&amp;colspec=ID%20Status%20Pri%20Owner%20Summary" rel="nofollow noreferrer">Chrome Bug</a></p>\n\n<p>Try to use FireFox</p>'
 'Can you post a screenshot of the alert?']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>I think this is authentication popup. I saw your screenshot now its authentication popup. please use below code and I hope this work for you.</p>\n\n<p>try this :-</p>\n\n<pre><code>driver.get("https://UserName:Password@Example.com")\n</code></pre>\n\n<p>There are three types of pop-ups you might face.</p>\n\n<p>1)Website pop up, which is basically easy to handle as you can find it’s element locator and sometimes it’s an iframe then you can use the switch to the iframe as well.</p>\n\n<p>2)The second one is browser auth pop up, if your browser has authentication pop up then you don\'t need to worry about switching, you just need is pass the auth credentials with your URL as <code>https://&lt;username&gt;:&lt;password&gt;@&lt;your-site-name&gt;</code></p>\n\n<p>3)Third is browser pop up, the browser pop-ups are tricky to handle but if you are seeing the browser pop-ups which is a normal browser pop up then you can use below command to switch into it.</p>\n\n<pre><code>alert_obj = driver.switch_to.alert\n</code></pre>\n\n<p>For more information read <a href="https://stackoverflow.com/q/27322871/4513879">this</a> and <a href="https://stackoverflow.com/a/35788944/4513879">this also</a>, <a href="https://stackoverflow.com/q/35356564/4513879">Selenium Python Authenticating browser login pupup dialog at a HTTPS website</a></p>'
 'Can you post a screenshot of the alert?']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>Looks like a bug, <a href="https://bugs.chromium.org/p/chromedriver/issues/detail?id=1917&amp;q=authentication&amp;colspec=ID%20Status%20Pri%20Owner%20Summary" rel="nofollow noreferrer">Chrome Bug</a></p>\n\n<p>Try to use FireFox</p>'
 'did you try to send `tab` to jump to another field in window.']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>I think this is authentication popup. I saw your screenshot now its authentication popup. please use below code and I hope this work for you.</p>\n\n<p>try this :-</p>\n\n<pre><code>driver.get("https://UserName:Password@Example.com")\n</code></pre>\n\n<p>There are three types of pop-ups you might face.</p>\n\n<p>1)Website pop up, which is basically easy to handle as you can find it’s element locator and sometimes it’s an iframe then you can use the switch to the iframe as well.</p>\n\n<p>2)The second one is browser auth pop up, if your browser has authentication pop up then you don\'t need to worry about switching, you just need is pass the auth credentials with your URL as <code>https://&lt;username&gt;:&lt;password&gt;@&lt;your-site-name&gt;</code></p>\n\n<p>3)Third is browser pop up, the browser pop-ups are tricky to handle but if you are seeing the browser pop-ups which is a normal browser pop up then you can use below command to switch into it.</p>\n\n<pre><code>alert_obj = driver.switch_to.alert\n</code></pre>\n\n<p>For more information read <a href="https://stackoverflow.com/q/27322871/4513879">this</a> and <a href="https://stackoverflow.com/a/35788944/4513879">this also</a>, <a href="https://stackoverflow.com/q/35356564/4513879">Selenium Python Authenticating browser login pupup dialog at a HTTPS website</a></p>'
 'did you try to send `tab` to jump to another field in window.']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>Looks like a bug, <a href="https://bugs.chromium.org/p/chromedriver/issues/detail?id=1917&amp;q=authentication&amp;colspec=ID%20Status%20Pri%20Owner%20Summary" rel="nofollow noreferrer">Chrome Bug</a></p>\n\n<p>Try to use FireFox</p>'
 '@iAmTryingOK here is the [screenshot](https://snag.gy/MxTCt8.jpg)']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>I think this is authentication popup. I saw your screenshot now its authentication popup. please use below code and I hope this work for you.</p>\n\n<p>try this :-</p>\n\n<pre><code>driver.get("https://UserName:Password@Example.com")\n</code></pre>\n\n<p>There are three types of pop-ups you might face.</p>\n\n<p>1)Website pop up, which is basically easy to handle as you can find it’s element locator and sometimes it’s an iframe then you can use the switch to the iframe as well.</p>\n\n<p>2)The second one is browser auth pop up, if your browser has authentication pop up then you don\'t need to worry about switching, you just need is pass the auth credentials with your URL as <code>https://&lt;username&gt;:&lt;password&gt;@&lt;your-site-name&gt;</code></p>\n\n<p>3)Third is browser pop up, the browser pop-ups are tricky to handle but if you are seeing the browser pop-ups which is a normal browser pop up then you can use below command to switch into it.</p>\n\n<pre><code>alert_obj = driver.switch_to.alert\n</code></pre>\n\n<p>For more information read <a href="https://stackoverflow.com/q/27322871/4513879">this</a> and <a href="https://stackoverflow.com/a/35788944/4513879">this also</a>, <a href="https://stackoverflow.com/q/35356564/4513879">Selenium Python Authenticating browser login pupup dialog at a HTTPS website</a></p>'
 '@iAmTryingOK here is the [screenshot](https://snag.gy/MxTCt8.jpg)']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>Looks like a bug, <a href="https://bugs.chromium.org/p/chromedriver/issues/detail?id=1917&amp;q=authentication&amp;colspec=ID%20Status%20Pri%20Owner%20Summary" rel="nofollow noreferrer">Chrome Bug</a></p>\n\n<p>Try to use FireFox</p>'
 '@furas i will try it']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>I think this is authentication popup. I saw your screenshot now its authentication popup. please use below code and I hope this work for you.</p>\n\n<p>try this :-</p>\n\n<pre><code>driver.get("https://UserName:Password@Example.com")\n</code></pre>\n\n<p>There are three types of pop-ups you might face.</p>\n\n<p>1)Website pop up, which is basically easy to handle as you can find it’s element locator and sometimes it’s an iframe then you can use the switch to the iframe as well.</p>\n\n<p>2)The second one is browser auth pop up, if your browser has authentication pop up then you don\'t need to worry about switching, you just need is pass the auth credentials with your URL as <code>https://&lt;username&gt;:&lt;password&gt;@&lt;your-site-name&gt;</code></p>\n\n<p>3)Third is browser pop up, the browser pop-ups are tricky to handle but if you are seeing the browser pop-ups which is a normal browser pop up then you can use below command to switch into it.</p>\n\n<pre><code>alert_obj = driver.switch_to.alert\n</code></pre>\n\n<p>For more information read <a href="https://stackoverflow.com/q/27322871/4513879">this</a> and <a href="https://stackoverflow.com/a/35788944/4513879">this also</a>, <a href="https://stackoverflow.com/q/35356564/4513879">Selenium Python Authenticating browser login pupup dialog at a HTTPS website</a></p>'
 '@furas i will try it']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>Looks like a bug, <a href="https://bugs.chromium.org/p/chromedriver/issues/detail?id=1917&amp;q=authentication&amp;colspec=ID%20Status%20Pri%20Owner%20Summary" rel="nofollow noreferrer">Chrome Bug</a></p>\n\n<p>Try to use FireFox</p>'
 'always put screenshot and all other important information in question, not in comment.']
[56126524
 '<p>I\'m trying to automate my login process to my home router and I want to enter the username and the password into an alert message, unfortunately, I can\'t do it</p>\n\n<p>after doing some research I found that I can accept the alert using</p>\n\n<p><code>alert = driver.switch_to.alert alert.accept()</code></p>\n\n<p>and sending keys into the web\nusing method called <code>send_keys()</code></p>\n\n<p>but the problem that i have two textboxes instead of one </p>\n\n<pre class="lang-py prettyprint-override"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get("192.168.1.1")\n\n#note i have both textboxes in the same alert\n#and the alert popup once I request the page\n\nalert = driver.switch_to.alert\n\nalert.send_keys(\'admin\')\nalert.send_keys(\'admin\')\nalert.accept()\n\n</code></pre>'
 '<p>I think this is authentication popup. I saw your screenshot now its authentication popup. please use below code and I hope this work for you.</p>\n\n<p>try this :-</p>\n\n<pre><code>driver.get("https://UserName:Password@Example.com")\n</code></pre>\n\n<p>There are three types of pop-ups you might face.</p>\n\n<p>1)Website pop up, which is basically easy to handle as you can find it’s element locator and sometimes it’s an iframe then you can use the switch to the iframe as well.</p>\n\n<p>2)The second one is browser auth pop up, if your browser has authentication pop up then you don\'t need to worry about switching, you just need is pass the auth credentials with your URL as <code>https://&lt;username&gt;:&lt;password&gt;@&lt;your-site-name&gt;</code></p>\n\n<p>3)Third is browser pop up, the browser pop-ups are tricky to handle but if you are seeing the browser pop-ups which is a normal browser pop up then you can use below command to switch into it.</p>\n\n<pre><code>alert_obj = driver.switch_to.alert\n</code></pre>\n\n<p>For more information read <a href="https://stackoverflow.com/q/27322871/4513879">this</a> and <a href="https://stackoverflow.com/a/35788944/4513879">this also</a>, <a href="https://stackoverflow.com/q/35356564/4513879">Selenium Python Authenticating browser login pupup dialog at a HTTPS website</a></p>'
 'always put screenshot and all other important information in question, not in comment.']
[27230400
 "<p>I created a share on my windows instance on AWS.\nI have elastic IP.\nI opened my home ip address (which is static) for 'all traffic'\nHowever I am unable to access the share, or even see the list of shares.</p>\n\n<p>I can access the share from the other AWS instances I have.</p>\n\n<p>I turned off the windows firewall on the server.</p>\n\n<p>I can access shares through my home router to other places (just testing to make sure my isp doesn't block these connections).</p>\n\n<p>Any ideas how to make this work?</p>\n\n<p>Thanks.</p>"
 '<p>Start but checking basic connectivity. You need to check that you can connect to port 445 on the remote IP. Easiest way to do this is with telnet:</p>\n\n<pre><code>telnet &lt;elastic IP&gt; 445\n</code></pre>\n\n<p>If you get a "connection refused" (most likely) then you need to start checking what is blocking you. Check for a client side firewall, a router firewall, etc. \nAlso try connecting to the public IP of the instance, not the elastic IP.</p>'
 'What about the security group of your AWS instance? Can it accept inbound traffic from your home IP?']
[27230400
 "<p>I created a share on my windows instance on AWS.\nI have elastic IP.\nI opened my home ip address (which is static) for 'all traffic'\nHowever I am unable to access the share, or even see the list of shares.</p>\n\n<p>I can access the share from the other AWS instances I have.</p>\n\n<p>I turned off the windows firewall on the server.</p>\n\n<p>I can access shares through my home router to other places (just testing to make sure my isp doesn't block these connections).</p>\n\n<p>Any ideas how to make this work?</p>\n\n<p>Thanks.</p>"
 '<p>Start but checking basic connectivity. You need to check that you can connect to port 445 on the remote IP. Easiest way to do this is with telnet:</p>\n\n<pre><code>telnet &lt;elastic IP&gt; 445\n</code></pre>\n\n<p>If you get a "connection refused" (most likely) then you need to start checking what is blocking you. Check for a client side firewall, a router firewall, etc. \nAlso try connecting to the public IP of the instance, not the elastic IP.</p>'
 "Yes, as I wrote above, I opened my IP for 'all traffic'"]
[55584878
 '<p><strong>EDIT</strong>: I tested with a static IP on both the board and my computer with a python SSL server and it works as expected, leading me to believe that the DHCP is the problem. If anyone has a lead on what may be occuring it would be greatly appreciated.</p>\n\n<p>I am using the mbedTLS library on a STM32F746-NUCLEO board and I want to use it as both a SSL client and server. The server works well, so i tried to use the client example code (as is, in a separate project). </p>\n\n<p>The following <code>mbedtls_net_connect</code> call returns -68 (MBEDTLS_ERR_NET_CONNECT_FAILED). Digging deeper reveals that it is due to a routing error (line 900 in tcp.c from LwIP), because local_ip is set to 0. The board is in DHCP mode on a home router which is connected to the internet. The destination server is up and running and the <code>SERVER_NAME</code> is the IP address in plain text.</p>\n\n<pre><code>mbedtls_entropy_context client_entropy;\nstatic mbedtls_net_context server_fd;\nmbedtls_x509_crt cacert;\nstatic uint32_t flags;\nstatic uint8_t vrfy_buf[512];\nstatic const uint8_t* client_pers = "ssl_client";\nmbedtls_ssl_config client_config;\nmbedtls_ctr_drbg_context client_ctr_drbg;\nmbedtls_ssl_context client_ssl;\nstatic uint8_t client_buf[1024];\n\nvoid SSL_Server(void const *argument) {\n    int ret, len;\n    UNUSED(argument);\n\n    mbedtls_net_init(&amp;server_fd);\n    mbedtls_ssl_init(&amp;client_ssl);\n    mbedtls_ssl_config_init(&amp;client_config);\n    mbedtls_x509_crt_init(&amp;cacert);\n    mbedtls_ctr_drbg_init(&amp;client_ctr_drbg);\n\n    // Seeding the random number generator\n\n    mbedtls_entropy_init( &amp;client_entropy );\n    len = strlen((char *) client_pers);\n    if((ret = mbedtls_ctr_drbg_seed(&amp;client_ctr_drbg, mbedtls_entropy_func,\n            &amp;client_entropy, (const unsigned char *) client_pers, len)) != 0)\n    {\n    goto exit;\n    }\n\n\n    // 1. Initialize certificates\n\n    ret = mbedtls_x509_crt_parse( &amp;cacert, (const unsigned char *) mbedtls_test_cas_pem,\n            mbedtls_test_cas_pem_len );\n\n    if( ret &lt; 0 )\n    {\n    goto exit;\n    }\n\n\n    if((ret = mbedtls_net_connect(&amp;server_fd, SERVER_NAME, SERVER_PORT, \n          MBEDTLS_NET_PROTO_TCP)) != 0)\n    {\n        mbedtls_printf( " failed\\n  ! mbedtls_net_connect returned %d\\n\\n", ret );\n        goto exit;\n    }\n}\n</code></pre>\n\n<p>Here the SSL_Server function is a FreeRTOS thread called in the <code>main()</code>. I can also confirm that the network interface has been assigned an IP address when the error occurs.\nI expect the connection call to return 0 and connect to the server to initiate the SSL handshake.</p>'
 '<p>You need to set the default netif route for LWIP to be able to route the remote address.\nSimply add <code>netif_set_default(&amp;netif);</code> after <code>dhcp_start()</code> inside the function <code>mbedtls_net_init()</code>.</p>\n\n<pre><code>void mbedtls_net_init( mbedtls_net_context *ctx ) {\n\n  ...\n\n  /* add the network interface */    \n  netif_add(&amp;netif, &amp;addr, &amp;netmask, &amp;gw, NULL, &amp;ethernetif_init, &amp;ethernet_input);\n\n  /* register the default network interface */\n  netif_set_up(&amp;netif);\n\n#ifdef USE_DHCP\n  netif.ip_addr.addr = 0;\n  dhcp_start(&amp;netif);\n#endif\n\n  netif_set_default(&amp;netif);  // &lt;-- Here\n\n  osDelay(500);\n\n  start = HAL_GetTick();\n\n  while((netif.ip_addr.addr == 0) &amp;&amp; (HAL_GetTick() - start &lt; 10000))\n  {\n  }\n\n  if (netif.ip_addr.addr == 0) {\n    printf(" Failed to get ip address! Please check your network configuration.\\n");\n    Error_Handler();\n  }\n\n  ...\n\n</code></pre>\n\n<p>The documentation for MbedTLS can be kinda tricky, hope this helps.</p>'
 'Hard to tell without the whole code. Maybe you try to connect before the board gets a DHCP IP?']
[55584878
 '<p><strong>EDIT</strong>: I tested with a static IP on both the board and my computer with a python SSL server and it works as expected, leading me to believe that the DHCP is the problem. If anyone has a lead on what may be occuring it would be greatly appreciated.</p>\n\n<p>I am using the mbedTLS library on a STM32F746-NUCLEO board and I want to use it as both a SSL client and server. The server works well, so i tried to use the client example code (as is, in a separate project). </p>\n\n<p>The following <code>mbedtls_net_connect</code> call returns -68 (MBEDTLS_ERR_NET_CONNECT_FAILED). Digging deeper reveals that it is due to a routing error (line 900 in tcp.c from LwIP), because local_ip is set to 0. The board is in DHCP mode on a home router which is connected to the internet. The destination server is up and running and the <code>SERVER_NAME</code> is the IP address in plain text.</p>\n\n<pre><code>mbedtls_entropy_context client_entropy;\nstatic mbedtls_net_context server_fd;\nmbedtls_x509_crt cacert;\nstatic uint32_t flags;\nstatic uint8_t vrfy_buf[512];\nstatic const uint8_t* client_pers = "ssl_client";\nmbedtls_ssl_config client_config;\nmbedtls_ctr_drbg_context client_ctr_drbg;\nmbedtls_ssl_context client_ssl;\nstatic uint8_t client_buf[1024];\n\nvoid SSL_Server(void const *argument) {\n    int ret, len;\n    UNUSED(argument);\n\n    mbedtls_net_init(&amp;server_fd);\n    mbedtls_ssl_init(&amp;client_ssl);\n    mbedtls_ssl_config_init(&amp;client_config);\n    mbedtls_x509_crt_init(&amp;cacert);\n    mbedtls_ctr_drbg_init(&amp;client_ctr_drbg);\n\n    // Seeding the random number generator\n\n    mbedtls_entropy_init( &amp;client_entropy );\n    len = strlen((char *) client_pers);\n    if((ret = mbedtls_ctr_drbg_seed(&amp;client_ctr_drbg, mbedtls_entropy_func,\n            &amp;client_entropy, (const unsigned char *) client_pers, len)) != 0)\n    {\n    goto exit;\n    }\n\n\n    // 1. Initialize certificates\n\n    ret = mbedtls_x509_crt_parse( &amp;cacert, (const unsigned char *) mbedtls_test_cas_pem,\n            mbedtls_test_cas_pem_len );\n\n    if( ret &lt; 0 )\n    {\n    goto exit;\n    }\n\n\n    if((ret = mbedtls_net_connect(&amp;server_fd, SERVER_NAME, SERVER_PORT, \n          MBEDTLS_NET_PROTO_TCP)) != 0)\n    {\n        mbedtls_printf( " failed\\n  ! mbedtls_net_connect returned %d\\n\\n", ret );\n        goto exit;\n    }\n}\n</code></pre>\n\n<p>Here the SSL_Server function is a FreeRTOS thread called in the <code>main()</code>. I can also confirm that the network interface has been assigned an IP address when the error occurs.\nI expect the connection call to return 0 and connect to the server to initiate the SSL handshake.</p>'
 '<p>You need to set the default netif route for LWIP to be able to route the remote address.\nSimply add <code>netif_set_default(&amp;netif);</code> after <code>dhcp_start()</code> inside the function <code>mbedtls_net_init()</code>.</p>\n\n<pre><code>void mbedtls_net_init( mbedtls_net_context *ctx ) {\n\n  ...\n\n  /* add the network interface */    \n  netif_add(&amp;netif, &amp;addr, &amp;netmask, &amp;gw, NULL, &amp;ethernetif_init, &amp;ethernet_input);\n\n  /* register the default network interface */\n  netif_set_up(&amp;netif);\n\n#ifdef USE_DHCP\n  netif.ip_addr.addr = 0;\n  dhcp_start(&amp;netif);\n#endif\n\n  netif_set_default(&amp;netif);  // &lt;-- Here\n\n  osDelay(500);\n\n  start = HAL_GetTick();\n\n  while((netif.ip_addr.addr == 0) &amp;&amp; (HAL_GetTick() - start &lt; 10000))\n  {\n  }\n\n  if (netif.ip_addr.addr == 0) {\n    printf(" Failed to get ip address! Please check your network configuration.\\n");\n    Error_Handler();\n  }\n\n  ...\n\n</code></pre>\n\n<p>The documentation for MbedTLS can be kinda tricky, hope this helps.</p>'
 "the code is the client example from mbedtls, i'll edit my post to include the relevant parts"]
[57871703
 '<p>I\'ve developed a decent amount of multiplayer games lately in java (board/turn based games running on a tcp connection with data in/out streams) but they only work locally, I want to go a step further and make them run online, what do I need to change to make it work?</p>\n\n<p>It seems like there are many ways to accomplish that yet i don\'t know where to start, as I don\'t know much about networking.</p>\n\n<p>Besides that I don\'t have a real server, I\'m only using my home router and my pc.</p>\n\n<p>So here is what I\'ve tried so far:</p>\n\n<ul>\n<li>I enabled port forwarding in my router and I think it works (I used a port forwarding checking tool online)</li>\n<li>I created a dynamic DNS for my public ip using noip.com</li>\n</ul>\n\n<p>So the server side should be fine at least, my problem is with the client side, the client\'s socket won\'t connect to my public ip, when I searched for a solution I concluded that the client shouldn\'t be in the same LAN where the server is, so I used a mobile hotspot as a second network and tried again, but got the same results. (connection refused exception)\nis it because of the mobile hotspot (should I use another router) ?\nor is it just some coding tweaks ?</p>\n\n<p>This is a minimal server class example</p>\n\n<pre><code> public static void main(String[] args) {\n    try {\n        ServerSocket ss = new ServerSocket(50895);\n        Socket cs = ss.accept();\n        DataOutputStream out = new DataOutputStream(cs.getOutputStream());\n        DataInputStream in = new DataInputStream(cs.getInputStream());\n        out.writeInt(123456);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And this a minimal client class example</p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        String ip = Inet4Address.getByName("my Dynamic IP address").getCanonicalHostName();\n        System.out.println(ip);\n        InetSocketAddress sa = new InetSocketAddress(ip, 50895);\n        Socket cs = new Socket();\n        cs.connect(sa);\n        DataOutputStream out = new DataOutputStream(cs.getOutputStream());\n        DataInputStream in = new DataInputStream(cs.getInputStream());\n        System.out.println("received : " + in.readInt());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>The method that i\'ve tried always gives me a connection refused exception, so any solution would be appreciated.</p>'
 '<p>I found a software solution to the problem through virtual lan (using LogMeIn Hamachi) which is basicly used for creating game servers, you just need to create an account and a network so your friends can join it, after that everything should be fine and runs as if it\'s locally hosted.</p>\n\n<p>You can download the software through <a href="https://www.vpn.net/" rel="nofollow noreferrer">here</a> but there are many alternatives to choose from, that one gives you up to 5 people on the network for free, it\'s not the best, but still a free solution.</p>\n\n<p>I still want more of a java solution to this problem that doesn\'t require a third-party software.</p>'
 "do you have a firewall on your computer? Can you ping your server? Beeing in the same lan isn't a problem but then you can't test your port forwarding on your router (because you won't use it in the same lan)"]
[57871703
 '<p>I\'ve developed a decent amount of multiplayer games lately in java (board/turn based games running on a tcp connection with data in/out streams) but they only work locally, I want to go a step further and make them run online, what do I need to change to make it work?</p>\n\n<p>It seems like there are many ways to accomplish that yet i don\'t know where to start, as I don\'t know much about networking.</p>\n\n<p>Besides that I don\'t have a real server, I\'m only using my home router and my pc.</p>\n\n<p>So here is what I\'ve tried so far:</p>\n\n<ul>\n<li>I enabled port forwarding in my router and I think it works (I used a port forwarding checking tool online)</li>\n<li>I created a dynamic DNS for my public ip using noip.com</li>\n</ul>\n\n<p>So the server side should be fine at least, my problem is with the client side, the client\'s socket won\'t connect to my public ip, when I searched for a solution I concluded that the client shouldn\'t be in the same LAN where the server is, so I used a mobile hotspot as a second network and tried again, but got the same results. (connection refused exception)\nis it because of the mobile hotspot (should I use another router) ?\nor is it just some coding tweaks ?</p>\n\n<p>This is a minimal server class example</p>\n\n<pre><code> public static void main(String[] args) {\n    try {\n        ServerSocket ss = new ServerSocket(50895);\n        Socket cs = ss.accept();\n        DataOutputStream out = new DataOutputStream(cs.getOutputStream());\n        DataInputStream in = new DataInputStream(cs.getInputStream());\n        out.writeInt(123456);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And this a minimal client class example</p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        String ip = Inet4Address.getByName("my Dynamic IP address").getCanonicalHostName();\n        System.out.println(ip);\n        InetSocketAddress sa = new InetSocketAddress(ip, 50895);\n        Socket cs = new Socket();\n        cs.connect(sa);\n        DataOutputStream out = new DataOutputStream(cs.getOutputStream());\n        DataInputStream in = new DataInputStream(cs.getInputStream());\n        System.out.println("received : " + in.readInt());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>The method that i\'ve tried always gives me a connection refused exception, so any solution would be appreciated.</p>'
 '<p>I found a software solution to the problem through virtual lan (using LogMeIn Hamachi) which is basicly used for creating game servers, you just need to create an account and a network so your friends can join it, after that everything should be fine and runs as if it\'s locally hosted.</p>\n\n<p>You can download the software through <a href="https://www.vpn.net/" rel="nofollow noreferrer">here</a> but there are many alternatives to choose from, that one gives you up to 5 people on the network for free, it\'s not the best, but still a free solution.</p>\n\n<p>I still want more of a java solution to this problem that doesn\'t require a third-party software.</p>'
 "yes i have a firewall, it didn't work even when it's disabled, by pinging the server you mean my public ip ? if yes then it works, i've tested my port forwarding over a website on a different network and it works"]
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>This question main use case would be to access the applications running in the container from host(Mac) machine or other machines in the host(Mac) network</p>\n\n<p>Once the container application has been started and exposed as below</p>\n\n<pre><code>docker run -d -p 8080 &lt;&lt;image-name&gt;&gt;\n</code></pre>\n\n<p>Then find the mapping between the host(Mac) port with container port as below</p>\n\n<pre><code>docker port &lt;&lt;container-name&gt;&gt;\nsample output : 8080/tcp -&gt; 0.0.0.0:32771\n</code></pre>\n\n<p>now access the container application as host(Mac IP):32771 from any machine in your host(Mac) network</p>'
 'did you find a solution?']
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>On a machine with <strong>Docker Toolbox for Mac</strong>, I\'m solving the problem as follows (using the <code>default</code> machine).</p>\n\n<p><strong>Preparation</strong></p>\n\n<ol>\n<li><p>Stop the machine if it\'s running:</p>\n\n<p><code>docker-machine stop default</code></p></li>\n</ol>\n\n<p><strong>VirtualBox Setup</strong></p>\n\n<ol start="2">\n<li><p>Open VirtualBox, select the <code>default</code> machine, open Settings (<code>Cmd-S</code>), go to Network, and select "Adapter 3".</p></li>\n<li><p>Check "Enable Network Adapter" (turn it on).</p></li>\n<li>Set "Attached to" to "Bridged Adapter".</li>\n<li>Set Name to "en0: Ethernet" (or whatever is the primary network interface or your Mac).</li>\n<li>Disclose "Advanced", and make sure "Cable Connected" is checked on.</li>\n<li>Note the "MAC Address" of "Adapter 3" (we\'ll use it later).</li>\n<li>Press "OK" to save the settings.</li>\n</ol>\n\n<p><strong>Docker Setup</strong></p>\n\n<ol start="9">\n<li><p>Now, back in Terminal, start the machine:</p>\n\n<p><code>docker-machine start default</code></p></li>\n<li><p>Just in case, regenerate the certs:</p>\n\n<p><code>docker-machine regenerate-certs default</code></p></li>\n<li><p>Update the environment:</p>\n\n<p><code>eval $(docker-machine env default)</code></p></li>\n</ol>\n\n<p>At this point, the machine should be running (with the default IP address of 192.168.99.100, accessible only from the hosting Mac). However, if you ssh into the docker VM (<code>docker-machine ssh default</code>) and run <code>ifconfig -a</code>, you\'ll see that one of the VM\'s interfaces (<code>eth0</code> in my case) has an IP in the same network as your Mac (e.g. 192.168.0.102), which is accessible from other devices on your LAN.</p>\n\n<p><strong>Router Setup</strong></p>\n\n<p>Now, the last step is to make sure this address is fixed, and not changed from time to time by your router\'s DHCP. This may differ from router to router, the following applies to my no-frills TP-LINK router, but should be easily adjustable to other makes and models.</p>\n\n<ol start="12">\n<li><p>Open your router settings, and first check that <code>default</code> is in the router\'s DHCP Clients List, with the MAC address from step 7 above.</p></li>\n<li><p>Open "DHCP" > "Address Reservation" in the router settings, and add the "Adapter 3" MAC Address (you may have to insert the missing dashes), and your desired IP there (e.g. 192.168.0.201).</p></li>\n<li><p>Now my router asks me to reboot it. After the reboot, run <code>docker-machine restart default</code> for the Docker VM to pick up its new IP address.</p></li>\n<li><p>Final verification: <code>docker-machine ssh default</code>, then <code>ifconfig -a</code>, and find your new IP address in the output (this time the interface was <code>eth1</code>).</p></li>\n</ol>\n\n<p><strong>Result</strong></p>\n\n<p>From the hosting Mac the machine is accessible via two addresses (192.168.99.100 and 192.168.0.201); from other devices in the LAN it\'s accessible as 192.168.0.201.</p>'
 'did you find a solution?']
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>This working for me</p>\n\n<ul>\n<li>with stopped VM add a 3rd "bridge" network</li>\n<li>start the VM with docker-machine start machine-name</li>\n<li>regenerate certs with docker-machine regenerate-certs machine-name</li>\n</ul>\n\n<p>check if ok with docker-machine ls</p>'
 'did you find a solution?']
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>OK, so I found a better way to do it than trying to use a bridging network adaptor. I found it in the boot2docker docs on <a href="https://github.com/boot2docker/boot2docker/blob/master/doc/WORKAROUNDS.md#port-forwarding" rel="nofollow">port forwarding</a>. </p>\n\n<p>Just use <code>VBoxManage modifyvm default --natpf1 "my_web,tcp,,8080,,80"</code>\nor use the VirtualBox GUI to specify your port forwarding for the NAT adaptor.</p>\n\n<p>Then, remove the <code>-p</code> option from your docker run command and use <code>--net=host</code> instead. That is instead of </p>\n\n<pre><code>docker run -d -p 8080:80 --name=web nginx\n</code></pre>\n\n<p>use </p>\n\n<pre><code>docker run -d --net=host --name=web nginx\n</code></pre>\n\n<p>And voila! Your web server is available at localhost:8080 on your host or YOURHOSTIP:8080 elsewhere on your LAN. </p>\n\n<p>Note that using <code>--net=host</code> may mess up communication between containers on the VM, but since this is the only container I plan to run, it works great for me.</p>'
 'did you find a solution?']
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>If I change the first network card from <code>NAT</code> to bridge I also can\'t connect to it.</p>\n\n<p>What I have found working was to add 3rd network card, set it up to bridge mode <strong>and change adapter type</strong> to the <code>Intel PRO/1000 MT Desktop (82540EM)</code>. The default one is probably not supported by <code>boot2docker</code> distro.</p>\n\n<p>See my <a href="https://github.com/docker/machine/issues/1491" rel="nofollow noreferrer">comment</a> at github.</p>'
 'did you find a solution?']
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>This question main use case would be to access the applications running in the container from host(Mac) machine or other machines in the host(Mac) network</p>\n\n<p>Once the container application has been started and exposed as below</p>\n\n<pre><code>docker run -d -p 8080 &lt;&lt;image-name&gt;&gt;\n</code></pre>\n\n<p>Then find the mapping between the host(Mac) port with container port as below</p>\n\n<pre><code>docker port &lt;&lt;container-name&gt;&gt;\nsample output : 8080/tcp -&gt; 0.0.0.0:32771\n</code></pre>\n\n<p>now access the container application as host(Mac IP):32771 from any machine in your host(Mac) network</p>'
 '@gnz Sort of.. See my answer below. More info [here](https://github.com/docker/machine/issues/1491)']
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>On a machine with <strong>Docker Toolbox for Mac</strong>, I\'m solving the problem as follows (using the <code>default</code> machine).</p>\n\n<p><strong>Preparation</strong></p>\n\n<ol>\n<li><p>Stop the machine if it\'s running:</p>\n\n<p><code>docker-machine stop default</code></p></li>\n</ol>\n\n<p><strong>VirtualBox Setup</strong></p>\n\n<ol start="2">\n<li><p>Open VirtualBox, select the <code>default</code> machine, open Settings (<code>Cmd-S</code>), go to Network, and select "Adapter 3".</p></li>\n<li><p>Check "Enable Network Adapter" (turn it on).</p></li>\n<li>Set "Attached to" to "Bridged Adapter".</li>\n<li>Set Name to "en0: Ethernet" (or whatever is the primary network interface or your Mac).</li>\n<li>Disclose "Advanced", and make sure "Cable Connected" is checked on.</li>\n<li>Note the "MAC Address" of "Adapter 3" (we\'ll use it later).</li>\n<li>Press "OK" to save the settings.</li>\n</ol>\n\n<p><strong>Docker Setup</strong></p>\n\n<ol start="9">\n<li><p>Now, back in Terminal, start the machine:</p>\n\n<p><code>docker-machine start default</code></p></li>\n<li><p>Just in case, regenerate the certs:</p>\n\n<p><code>docker-machine regenerate-certs default</code></p></li>\n<li><p>Update the environment:</p>\n\n<p><code>eval $(docker-machine env default)</code></p></li>\n</ol>\n\n<p>At this point, the machine should be running (with the default IP address of 192.168.99.100, accessible only from the hosting Mac). However, if you ssh into the docker VM (<code>docker-machine ssh default</code>) and run <code>ifconfig -a</code>, you\'ll see that one of the VM\'s interfaces (<code>eth0</code> in my case) has an IP in the same network as your Mac (e.g. 192.168.0.102), which is accessible from other devices on your LAN.</p>\n\n<p><strong>Router Setup</strong></p>\n\n<p>Now, the last step is to make sure this address is fixed, and not changed from time to time by your router\'s DHCP. This may differ from router to router, the following applies to my no-frills TP-LINK router, but should be easily adjustable to other makes and models.</p>\n\n<ol start="12">\n<li><p>Open your router settings, and first check that <code>default</code> is in the router\'s DHCP Clients List, with the MAC address from step 7 above.</p></li>\n<li><p>Open "DHCP" > "Address Reservation" in the router settings, and add the "Adapter 3" MAC Address (you may have to insert the missing dashes), and your desired IP there (e.g. 192.168.0.201).</p></li>\n<li><p>Now my router asks me to reboot it. After the reboot, run <code>docker-machine restart default</code> for the Docker VM to pick up its new IP address.</p></li>\n<li><p>Final verification: <code>docker-machine ssh default</code>, then <code>ifconfig -a</code>, and find your new IP address in the output (this time the interface was <code>eth1</code>).</p></li>\n</ol>\n\n<p><strong>Result</strong></p>\n\n<p>From the hosting Mac the machine is accessible via two addresses (192.168.99.100 and 192.168.0.201); from other devices in the LAN it\'s accessible as 192.168.0.201.</p>'
 '@gnz Sort of.. See my answer below. More info [here](https://github.com/docker/machine/issues/1491)']
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>This working for me</p>\n\n<ul>\n<li>with stopped VM add a 3rd "bridge" network</li>\n<li>start the VM with docker-machine start machine-name</li>\n<li>regenerate certs with docker-machine regenerate-certs machine-name</li>\n</ul>\n\n<p>check if ok with docker-machine ls</p>'
 '@gnz Sort of.. See my answer below. More info [here](https://github.com/docker/machine/issues/1491)']
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>OK, so I found a better way to do it than trying to use a bridging network adaptor. I found it in the boot2docker docs on <a href="https://github.com/boot2docker/boot2docker/blob/master/doc/WORKAROUNDS.md#port-forwarding" rel="nofollow">port forwarding</a>. </p>\n\n<p>Just use <code>VBoxManage modifyvm default --natpf1 "my_web,tcp,,8080,,80"</code>\nor use the VirtualBox GUI to specify your port forwarding for the NAT adaptor.</p>\n\n<p>Then, remove the <code>-p</code> option from your docker run command and use <code>--net=host</code> instead. That is instead of </p>\n\n<pre><code>docker run -d -p 8080:80 --name=web nginx\n</code></pre>\n\n<p>use </p>\n\n<pre><code>docker run -d --net=host --name=web nginx\n</code></pre>\n\n<p>And voila! Your web server is available at localhost:8080 on your host or YOURHOSTIP:8080 elsewhere on your LAN. </p>\n\n<p>Note that using <code>--net=host</code> may mess up communication between containers on the VM, but since this is the only container I plan to run, it works great for me.</p>'
 '@gnz Sort of.. See my answer below. More info [here](https://github.com/docker/machine/issues/1491)']
[32594196
 '<p>I\'m trying to get started with docker and want to run the <a href="https://github.com/rednut/docker-unifi-video-controller">Ubiquiti video controller</a>. I have installed Docker Toolbox and managed to get the container to run on my Yosemite host and can access it on the same mac by going to the IP returned by <code>docker-machine ip default</code>. But I want to access it on other machines on the network and eventually set up port forwarding on my home router so I can access it outside my home network. </p>\n\n<p>As suggested in <a href="https://github.com/boot2docker/boot2docker/issues/160#issuecomment-63393455">boot2docker issue 160</a>, using the Virtualbox GUI I was able to add a bridged network adaptor, but after restarting the VM <code>docker-machine</code> can no longer connect with the VM. <code>docker env default</code> hangs for a long time but eventually returns some environment variables along with the message <code>Maximum number of retries (60) exceeded</code>. When I set up the shell with those variables and try to run <code>docker ps</code> I get the error: <code>An error occurred trying to connect: Get https://10.0.2.15:2376/v1.20/containers/json: dial tcp 10.0.2.15:2376: network is unreachable</code>.</p>\n\n<p>I suspect that docker-machine has some assumptions about networking configuration in the VM and I\'m mucking them up.</p>\n\n<p><code>docker-machine ssh ifconfig -a</code> returns the following:</p>\n\n<pre><code>docker0   Link encap:Ethernet  HWaddr 02:42:86:44:17:1E  \n          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\ndummy0    Link encap:Ethernet  HWaddr 96:9F:AA:B8:BB:46  \n          BROADCAST NOARP  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\neth0      Link encap:Ethernet  HWaddr 08:00:27:37:2C:75  \n          inet addr:192.168.1.142  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fe37:2c75/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2996 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:76 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:278781 (272.2 KiB)  TX bytes:6824 (6.6 KiB)\n          Interrupt:17 Base address:0xd060 \n\neth1      Link encap:Ethernet  HWaddr 08:00:27:E8:38:7C  \n          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fee8:387c/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:767 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:495 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:122291 (119.4 KiB)  TX bytes:116118 (113.3 KiB)\n\neth2      Link encap:Ethernet  HWaddr 08:00:27:A4:CF:12  \n          inet addr:192.168.99.100  Bcast:192.168.99.255  Mask:255.255.255.0\n          inet6 addr: fe80::a00:27ff:fea4:cf12/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:430 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:322 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:53351 (52.1 KiB)  TX bytes:24000 (23.4 KiB)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p><code>eth0</code> seems to be getting a reasonable DHCP address from my router.</p>\n\n<p>I\'m not sure whether this is the right approach or whether I\'m barking up the wrong tree. If I can get the bridged network adaptor working on the VM, I don\'t know how to then convince my docker container to use it. I\'ve tried searching high and low on the internet. I\'ve found dozens of sites that explain how you need to access the container using the value of <code>docker-machine ip default</code> rather than <code>localhost</code> but nothing to explain how to access from a different host. Maybe I need to improve my googling skills.</p>'
 '<p>If I change the first network card from <code>NAT</code> to bridge I also can\'t connect to it.</p>\n\n<p>What I have found working was to add 3rd network card, set it up to bridge mode <strong>and change adapter type</strong> to the <code>Intel PRO/1000 MT Desktop (82540EM)</code>. The default one is probably not supported by <code>boot2docker</code> distro.</p>\n\n<p>See my <a href="https://github.com/docker/machine/issues/1491" rel="nofollow noreferrer">comment</a> at github.</p>'
 '@gnz Sort of.. See my answer below. More info [here](https://github.com/docker/machine/issues/1491)']
[47842498
 "<p>In the coming months I'll be creating different websites. Actually, one has been up already for awhile but I shut it down because of internet issues.</p>\n\n<p>My issue now is I want to create another website but just under a certain sub-domain. I want to do this so that I can maximize my domain. So I'll be creating say:</p>\n\n<pre><code>1. www.example.com\n2. api.example.com\n3. xyz.example.com\n</code></pre>\n\n<p>My home router forwards port 80 to a certain local IP 192.168.0.3 which is a virtual machine. I want to make contents of different websites to reside in different VMs to avoid conflicts. So those 3 websites, are in different VMs.</p>\n\n<p>Now, how can I set my router to target a VM depending on the website being requested provided that my router only targets one IP to port forward port 80?</p>\n\n<p>Am I correct that I'll be using reverse proxy of Apache2?</p>\n\n<p>Update: Is this an ideal solution on websites with this setup? If not how is large corporations set it up?</p>"
 '<p>first you have to configure the dns server of your domain to forward all domains to the same ip address (use some a A-Records)\n<a href="https://de.wikipedia.org/wiki/A_Resource_Record" rel="nofollow noreferrer">a-record</a></p>\n\n<p>and then configure Name-based virtual hosts in the configuration of your apache webserver.</p>\n\n<p><a href="https://httpd.apache.org/docs/current/vhosts/examples.html" rel="nofollow noreferrer">Name-based virtual hosts</a></p>\n\n<p>in this Virtual hosts you can forward to the VMs</p>'
 'Why someone downvoted it?']
[47842498
 "<p>In the coming months I'll be creating different websites. Actually, one has been up already for awhile but I shut it down because of internet issues.</p>\n\n<p>My issue now is I want to create another website but just under a certain sub-domain. I want to do this so that I can maximize my domain. So I'll be creating say:</p>\n\n<pre><code>1. www.example.com\n2. api.example.com\n3. xyz.example.com\n</code></pre>\n\n<p>My home router forwards port 80 to a certain local IP 192.168.0.3 which is a virtual machine. I want to make contents of different websites to reside in different VMs to avoid conflicts. So those 3 websites, are in different VMs.</p>\n\n<p>Now, how can I set my router to target a VM depending on the website being requested provided that my router only targets one IP to port forward port 80?</p>\n\n<p>Am I correct that I'll be using reverse proxy of Apache2?</p>\n\n<p>Update: Is this an ideal solution on websites with this setup? If not how is large corporations set it up?</p>"
 '<p>first you have to configure the dns server of your domain to forward all domains to the same ip address (use some a A-Records)\n<a href="https://de.wikipedia.org/wiki/A_Resource_Record" rel="nofollow noreferrer">a-record</a></p>\n\n<p>and then configure Name-based virtual hosts in the configuration of your apache webserver.</p>\n\n<p><a href="https://httpd.apache.org/docs/current/vhosts/examples.html" rel="nofollow noreferrer">Name-based virtual hosts</a></p>\n\n<p>in this Virtual hosts you can forward to the VMs</p>'
 "Is this the best way to run several sites with this setup? Because I don't like setting up Apache virtual host because I'm avoiding conflicts. Because when Apache is down all sites are down."]
[47842498
 "<p>In the coming months I'll be creating different websites. Actually, one has been up already for awhile but I shut it down because of internet issues.</p>\n\n<p>My issue now is I want to create another website but just under a certain sub-domain. I want to do this so that I can maximize my domain. So I'll be creating say:</p>\n\n<pre><code>1. www.example.com\n2. api.example.com\n3. xyz.example.com\n</code></pre>\n\n<p>My home router forwards port 80 to a certain local IP 192.168.0.3 which is a virtual machine. I want to make contents of different websites to reside in different VMs to avoid conflicts. So those 3 websites, are in different VMs.</p>\n\n<p>Now, how can I set my router to target a VM depending on the website being requested provided that my router only targets one IP to port forward port 80?</p>\n\n<p>Am I correct that I'll be using reverse proxy of Apache2?</p>\n\n<p>Update: Is this an ideal solution on websites with this setup? If not how is large corporations set it up?</p>"
 '<p>first you have to configure the dns server of your domain to forward all domains to the same ip address (use some a A-Records)\n<a href="https://de.wikipedia.org/wiki/A_Resource_Record" rel="nofollow noreferrer">a-record</a></p>\n\n<p>and then configure Name-based virtual hosts in the configuration of your apache webserver.</p>\n\n<p><a href="https://httpd.apache.org/docs/current/vhosts/examples.html" rel="nofollow noreferrer">Name-based virtual hosts</a></p>\n\n<p>in this Virtual hosts you can forward to the VMs</p>'
 'I suggest you ask new question on [superuser.com](https://superuser.com/)']
[47884775
 '<h2>Some background:</h2>\n\n<p>I\'m attempting to set up a pentesting network with a handful of virtual machines for the SANS 560 (Network Penetration Testing and Ethical Hacking) course, but I\'m having an issue with the network configuration.</p>\n\n<p>To paint a picture of the network (at least how it\'s intended to be):</p>\n\n<ul>\n<li><p>My home router (connected to the internet, also the gateway for all other machines on the network) IP is <code>192.168.0.1/24</code>, with all other machines on the network in the <code>255.255.255.0</code> subnet</p></li>\n<li><p>As per the course notes, I should be setting up all my virtual machines with bridged adapters on the <code>10.10.X.X/16</code> subnet - with Linux machines on <code>10.10.75.X/16</code>, Windows guest machines on <code>10.10.76.X/16</code>, and my "host" (also a VM running Windows) machine on <code>10.10.78.1/16</code></p></li>\n</ul>\n\n<h2>My question:</h2>\n\n<p>How (assuming it\'s possible) do I configure my host machine (with new new IP <code>10.10.78.1/16</code>) to be able to talk to the other guest machines (Virtual machines) while also being able to connect to the internet? </p>\n\n<p>I\'ve tried setting up a static route to use the new IP as the gateway (seeing as the router is on a different subnet):\n<code>route ADD 192.168.0.0 MASK 255.255.255.0  10.10.78.1</code> (<code>192.168.0.0</code> is the destination, obviously the mask is <code>255.255.255.0</code>, and the gateway is <code>10.10.78.1</code>) - it didn\'t work (all I get is <code>Destination Host Unreachable</code>)</p>\n\n<p>Do I need to have two interfaces on this Windows machine (i.e. one configured as <code>10.10.78.1/16</code> to talk to the other VMs, and another configured as <code>192.168.0.X/24</code> to access the internet) to make this configuration possible? </p>\n\n<p>I understand it\'s not how a network would be set up typically, so please let me know if you need me to clarify or provide more information.</p>'
 '<p>I found a solution that seems to work.</p>\n\n<p>Again, for context, below is a list of the machines on the network:</p>\n\n<pre><code>Name         |  Adapter type  | IP                  |     Static routes?\n============================================================================\nWindows VM1  |    Bridged     | 192.168.0.11/24     |     Nil\n             |    Bridged     | 10.10.78.1/16       |     Yes, see below\n-------------|----------------|---------------------|----------------------- \nWindows VM2  |    Bridged     | 10.10.76.1/16       |     Yes, see below\n-------------|----------------|---------------------|-----------------------\nLinux   VM3  |    Bridged     | 10.10.75.1/16       |     Nil\n</code></pre>\n\n<p><strong>Static routes:</strong></p>\n\n<p><em>Static routes for VM1</em>:</p>\n\n<ul>\n<li><strong>Note</strong>: In the adapter settings for <code>192.168.0.11/24</code>, I set the default gateway as the IP for my internet router (<code>192.168.0.1</code>), and the netmask as <code>255.255.255.0</code></li>\n<li><strong>Note</strong>: In the adapter settings for <code>10.10.78.1/16</code>, I left the default gateway blank (as it gets set when adding the static route), and the netmask as <code>255.255.0.0</code></li>\n<li><code>route -P ADD 10.10.0.0 MASK 255.255.0.0  192.168.0.11</code> (must use <code>-P</code> so that the route persists between reboots)</li>\n</ul>\n\n<p><em>Static routes for VM2</em>:</p>\n\n<ul>\n<li><code>route -P ADD 10.10.0.0 MASK 255.255.0.0  10.10.76.1</code> (must use <code>-P</code> so that the route persists between reboots)</li>\n<li><strong>Note</strong>: you must run <code>netsh advfirewall set allprofiles state off</code> to allow the other VMs (including other Windows machines) on the 10.10.0.0/16 subnet to talk to this machine.</li>\n</ul>\n\n<hr>\n\n<p>This configuration allows the following behaviour:</p>\n\n<ul>\n<li><code>VM1</code> can initiate a connection with <code>VM2</code> and <code>VM3</code></li>\n<li>Neither <code>VM2</code> nor <code>VM3</code> can initiate a connection with <code>VM1</code></li>\n<li><code>VM2</code> and <code>VM3</code> can inter-communicate (<em>i.e. can initiate connections with each other, in either direction</em>)</li>\n</ul>\n\n<p>Furthermore, this configuration should allow all of the VMs to communicate to the VPN that is setup for labs later on in the course, since they all have an adapter configured on the <code>10.10.x.x/16</code> network.</p>'
 'Stack Overflow is a site for programming and development questions. This question appears to be off-topic because it is not about programming or development. See [What topics can I ask about here](http://stackoverflow.com/help/on-topic) in the Help Center. Perhaps [Super User](http://superuser.com/) or [Unix & Linux Stack Exchange](http://unix.stackexchange.com/) would be a better place to ask.']
[47884775
 '<h2>Some background:</h2>\n\n<p>I\'m attempting to set up a pentesting network with a handful of virtual machines for the SANS 560 (Network Penetration Testing and Ethical Hacking) course, but I\'m having an issue with the network configuration.</p>\n\n<p>To paint a picture of the network (at least how it\'s intended to be):</p>\n\n<ul>\n<li><p>My home router (connected to the internet, also the gateway for all other machines on the network) IP is <code>192.168.0.1/24</code>, with all other machines on the network in the <code>255.255.255.0</code> subnet</p></li>\n<li><p>As per the course notes, I should be setting up all my virtual machines with bridged adapters on the <code>10.10.X.X/16</code> subnet - with Linux machines on <code>10.10.75.X/16</code>, Windows guest machines on <code>10.10.76.X/16</code>, and my "host" (also a VM running Windows) machine on <code>10.10.78.1/16</code></p></li>\n</ul>\n\n<h2>My question:</h2>\n\n<p>How (assuming it\'s possible) do I configure my host machine (with new new IP <code>10.10.78.1/16</code>) to be able to talk to the other guest machines (Virtual machines) while also being able to connect to the internet? </p>\n\n<p>I\'ve tried setting up a static route to use the new IP as the gateway (seeing as the router is on a different subnet):\n<code>route ADD 192.168.0.0 MASK 255.255.255.0  10.10.78.1</code> (<code>192.168.0.0</code> is the destination, obviously the mask is <code>255.255.255.0</code>, and the gateway is <code>10.10.78.1</code>) - it didn\'t work (all I get is <code>Destination Host Unreachable</code>)</p>\n\n<p>Do I need to have two interfaces on this Windows machine (i.e. one configured as <code>10.10.78.1/16</code> to talk to the other VMs, and another configured as <code>192.168.0.X/24</code> to access the internet) to make this configuration possible? </p>\n\n<p>I understand it\'s not how a network would be set up typically, so please let me know if you need me to clarify or provide more information.</p>'
 "<p>There are two solutions:</p>\n\n<ol>\n<li>Add 10.10.0.0/16 to your router as a secondary IP subnet - if possible - or change the 192.168.0.0/24 range to 10.10.0.0/16.</li>\n<li>Use another router to create the 10.10.0.0/16 subnet and connect it to 192.168.0.0/24 through on of its interfaces. On your Internet router, add a static route to 10.10.0.0/16. The router can be anything, a hardware router, a layer-3 switch, or a Windows/Linux machine with routing enabled.</li>\n</ol>\n\n<p>A third approach - running both subnets in the same layer-2 segment connected by a router-on-a-stick - doesn't really cut it for the purpose.</p>\n\n<p>Edit: The route in your question is the wrong way - assuming your inter-subnet router uses 192.168.0.99 and 10.10.78.1, on your Internet router, add route 10.10.0.0/16 -> 192.168.0.99 and on the new subnet use 10.10.78.1 as the default gateway.</p>"
 'Stack Overflow is a site for programming and development questions. This question appears to be off-topic because it is not about programming or development. See [What topics can I ask about here](http://stackoverflow.com/help/on-topic) in the Help Center. Perhaps [Super User](http://superuser.com/) or [Unix & Linux Stack Exchange](http://unix.stackexchange.com/) would be a better place to ask.']
[47842498
 "<p>In the coming months I'll be creating different websites. Actually, one has been up already for awhile but I shut it down because of internet issues.</p>\n\n<p>My issue now is I want to create another website but just under a certain sub-domain. I want to do this so that I can maximize my domain. So I'll be creating say:</p>\n\n<pre><code>1. www.example.com\n2. api.example.com\n3. xyz.example.com\n</code></pre>\n\n<p>My home router forwards port 80 to a certain local IP 192.168.0.3 which is a virtual machine. I want to make contents of different websites to reside in different VMs to avoid conflicts. So those 3 websites, are in different VMs.</p>\n\n<p>Now, how can I set my router to target a VM depending on the website being requested provided that my router only targets one IP to port forward port 80?</p>\n\n<p>Am I correct that I'll be using reverse proxy of Apache2?</p>\n\n<p>Update: Is this an ideal solution on websites with this setup? If not how is large corporations set it up?</p>"
 '<p>first you have to configure the dns server of your domain to forward all domains to the same ip address (use some a A-Records)\n<a href="https://de.wikipedia.org/wiki/A_Resource_Record" rel="nofollow noreferrer">a-record</a></p>\n\n<p>and then configure Name-based virtual hosts in the configuration of your apache webserver.</p>\n\n<p><a href="https://httpd.apache.org/docs/current/vhosts/examples.html" rel="nofollow noreferrer">Name-based virtual hosts</a></p>\n\n<p>in this Virtual hosts you can forward to the VMs</p>'
 "Probably because it is not programming related. Anyway, your home router most probably can't look into HTTP headers to make a routing decision, so  yes, you can forward 80 to one VM with apache, and use reverse proxy there to route traffic to appropriate VM."]
[30006754
 "<p>I'm working on a home project and im trying to open my network programmatically!\nIs there any way to simulate pressing the WPS button from an app?\nMy aim is to write an app where on a click of a button it would simulate pressing the WPS key on my home router for 30 seconds.</p>"
 "<p>When you press the WPS button on your home router, you are completing a circuit that tells the router to emit a signal allowing nearby devices to connect. There is no remote method to control this physical mechanism &amp; that is why it is recommended as a secure set-up.</p>\n\n<p>In order to automate this process you will need to disable push button control through your router's configuration page. Unfortunately, this could make your network vulnerable to WPS brute-force attacks. I highly recommend you disable WPS altogether &amp; use a strong WPA/2 passphrase if you don't want to connect using WPS-Push Button Control.</p>"
 'This question is a little bit broad. Give us some more details. What have you tried already?']
[23302080
 '<p>I\'d like to elaborate on how to properly handle fatal network exceptions raised by <code>TIdHTTP</code> inside TThread\'s <code>Execute</code> procedure.</p>\n\n<p>My app runs a <code>while..do</code> loop inside the <code>Execute</code> procedure. Each loop makes a <code>TIdHTTP.Get()</code> call. The exceptions are handled at the loop level. There is also an upper level handler of <code>on E: Exception do</code> (level of <code>Execute</code>).</p>\n\n<p>The scenario assumes a <em>fatal network error</em> during active network operations (i.e. adapter outage, "connection reset by peer", etc.). </p>\n\n<p>10 threads are serialized to make <code>TIdHTTP.Get()</code> requests from inside the loop. The app is running on a laptop when a home router unexpectedly hangs. Here comes #10054. Suppose that the network returns within 10 minutes. I want to make sure that in case of a sudden network death, each thread somehow:</p>\n\n<ol>\n<li>Detects that <em>(well, that\'s the easiest)</em>.</li>\n<li>Waits until the network comes back.</li>\n<li>Makes sure the network is up.</li>\n<li>Re-establishes connection and restores all network hood.</li>\n<li>Continues the loop.</li>\n</ol>\n\n<p>The desired result is to keep the thread up and running and just survive the temporary network problem. The threads must periodically check if the network is back. When it is, the exception handler must restore all network hood calling thread\'s <code>RestoreNetworkConnection</code> and then continue the loop.</p>\n\n<p>What I definitely don\'t want - is to stop threads\' execution.</p>\n\n<h3>Questions</h3>\n\n<ol>\n<li>Which events/exceptions shall I intercept to handle fatal network errors?</li>\n<li>Where to place exception handlers within <code>Execute</code>?</li>\n<li>What is correct way of re-establishing connection back to normal state?</li>\n</ol>'
 '<p>The easiest way is to do something like this:</p>\n\n<pre><code>procedure TMyThread.Execute;\nvar\n  NetworkDown: Boolean;\nbegin\n  NetworkDown := False;\n  try\n    while not Terminated do\n    begin\n      // wait for a successful HTTP response...\n      repeat\n        if Terminated then Exit;\n        try\n          IdHTTP.Get(...);\n          Break;\n        except\n          on E: EIdHTTPProtocolException do begin\n            // process HTTP error as needed...\n          end;\n          on E: EIdSocketError do begin\n            NetworkDown := True;\n            // process socket error as needed...\n          end;\n          on E: Exception do begin\n            // process any other error as needed...\n            raise;\n          end;\n        end;\n        Sleep(1000);\n      until False;\n\n      // got a response, check if network was previously down\n      if NetworkDown then\n      begin\n        NetworkDown := False;\n        RestoreNetworkConnection;\n      end;\n\n      // now process HTTP response as needed ...\n    end;\n  except\n    on Exception do begin\n      // process fatal error as needed ...\n    end;\n  end;\nend;\n</code></pre>'
 "You're actually asking 6 questions in this post, since `TIdHTTP` and `TADOConnection` need different ways for error handling and restoring. That's quite much for one post..."]
[23302080
 '<p>I\'d like to elaborate on how to properly handle fatal network exceptions raised by <code>TIdHTTP</code> inside TThread\'s <code>Execute</code> procedure.</p>\n\n<p>My app runs a <code>while..do</code> loop inside the <code>Execute</code> procedure. Each loop makes a <code>TIdHTTP.Get()</code> call. The exceptions are handled at the loop level. There is also an upper level handler of <code>on E: Exception do</code> (level of <code>Execute</code>).</p>\n\n<p>The scenario assumes a <em>fatal network error</em> during active network operations (i.e. adapter outage, "connection reset by peer", etc.). </p>\n\n<p>10 threads are serialized to make <code>TIdHTTP.Get()</code> requests from inside the loop. The app is running on a laptop when a home router unexpectedly hangs. Here comes #10054. Suppose that the network returns within 10 minutes. I want to make sure that in case of a sudden network death, each thread somehow:</p>\n\n<ol>\n<li>Detects that <em>(well, that\'s the easiest)</em>.</li>\n<li>Waits until the network comes back.</li>\n<li>Makes sure the network is up.</li>\n<li>Re-establishes connection and restores all network hood.</li>\n<li>Continues the loop.</li>\n</ol>\n\n<p>The desired result is to keep the thread up and running and just survive the temporary network problem. The threads must periodically check if the network is back. When it is, the exception handler must restore all network hood calling thread\'s <code>RestoreNetworkConnection</code> and then continue the loop.</p>\n\n<p>What I definitely don\'t want - is to stop threads\' execution.</p>\n\n<h3>Questions</h3>\n\n<ol>\n<li>Which events/exceptions shall I intercept to handle fatal network errors?</li>\n<li>Where to place exception handlers within <code>Execute</code>?</li>\n<li>What is correct way of re-establishing connection back to normal state?</li>\n</ol>'
 '<p>The easiest way is to do something like this:</p>\n\n<pre><code>procedure TMyThread.Execute;\nvar\n  NetworkDown: Boolean;\nbegin\n  NetworkDown := False;\n  try\n    while not Terminated do\n    begin\n      // wait for a successful HTTP response...\n      repeat\n        if Terminated then Exit;\n        try\n          IdHTTP.Get(...);\n          Break;\n        except\n          on E: EIdHTTPProtocolException do begin\n            // process HTTP error as needed...\n          end;\n          on E: EIdSocketError do begin\n            NetworkDown := True;\n            // process socket error as needed...\n          end;\n          on E: Exception do begin\n            // process any other error as needed...\n            raise;\n          end;\n        end;\n        Sleep(1000);\n      until False;\n\n      // got a response, check if network was previously down\n      if NetworkDown then\n      begin\n        NetworkDown := False;\n        RestoreNetworkConnection;\n      end;\n\n      // now process HTTP response as needed ...\n    end;\n  except\n    on Exception do begin\n      // process fatal error as needed ...\n    end;\n  end;\nend;\n</code></pre>'
 "@TLama Oh, that's true... Thanks for mentioning that. Would you suggest to make two separate posts one for TIdHTTP and one for TADOConnection?"]
[23302080
 '<p>I\'d like to elaborate on how to properly handle fatal network exceptions raised by <code>TIdHTTP</code> inside TThread\'s <code>Execute</code> procedure.</p>\n\n<p>My app runs a <code>while..do</code> loop inside the <code>Execute</code> procedure. Each loop makes a <code>TIdHTTP.Get()</code> call. The exceptions are handled at the loop level. There is also an upper level handler of <code>on E: Exception do</code> (level of <code>Execute</code>).</p>\n\n<p>The scenario assumes a <em>fatal network error</em> during active network operations (i.e. adapter outage, "connection reset by peer", etc.). </p>\n\n<p>10 threads are serialized to make <code>TIdHTTP.Get()</code> requests from inside the loop. The app is running on a laptop when a home router unexpectedly hangs. Here comes #10054. Suppose that the network returns within 10 minutes. I want to make sure that in case of a sudden network death, each thread somehow:</p>\n\n<ol>\n<li>Detects that <em>(well, that\'s the easiest)</em>.</li>\n<li>Waits until the network comes back.</li>\n<li>Makes sure the network is up.</li>\n<li>Re-establishes connection and restores all network hood.</li>\n<li>Continues the loop.</li>\n</ol>\n\n<p>The desired result is to keep the thread up and running and just survive the temporary network problem. The threads must periodically check if the network is back. When it is, the exception handler must restore all network hood calling thread\'s <code>RestoreNetworkConnection</code> and then continue the loop.</p>\n\n<p>What I definitely don\'t want - is to stop threads\' execution.</p>\n\n<h3>Questions</h3>\n\n<ol>\n<li>Which events/exceptions shall I intercept to handle fatal network errors?</li>\n<li>Where to place exception handlers within <code>Execute</code>?</li>\n<li>What is correct way of re-establishing connection back to normal state?</li>\n</ol>'
 '<p>The easiest way is to do something like this:</p>\n\n<pre><code>procedure TMyThread.Execute;\nvar\n  NetworkDown: Boolean;\nbegin\n  NetworkDown := False;\n  try\n    while not Terminated do\n    begin\n      // wait for a successful HTTP response...\n      repeat\n        if Terminated then Exit;\n        try\n          IdHTTP.Get(...);\n          Break;\n        except\n          on E: EIdHTTPProtocolException do begin\n            // process HTTP error as needed...\n          end;\n          on E: EIdSocketError do begin\n            NetworkDown := True;\n            // process socket error as needed...\n          end;\n          on E: Exception do begin\n            // process any other error as needed...\n            raise;\n          end;\n        end;\n        Sleep(1000);\n      until False;\n\n      // got a response, check if network was previously down\n      if NetworkDown then\n      begin\n        NetworkDown := False;\n        RestoreNetworkConnection;\n      end;\n\n      // now process HTTP response as needed ...\n    end;\n  except\n    on Exception do begin\n      // process fatal error as needed ...\n    end;\n  end;\nend;\n</code></pre>'
 "Yes, please. But anyway, I don't think you are really looking for handling only network failures. There's a lot of other bad things that may happen while those components are working. Think about all those 4xx HTTP errors returned by the server, or all the exceptions returned when something bad happens on the DBMS... Losing connection can be detected for both components, but that's just a small part of what can fail."]
[23302080
 '<p>I\'d like to elaborate on how to properly handle fatal network exceptions raised by <code>TIdHTTP</code> inside TThread\'s <code>Execute</code> procedure.</p>\n\n<p>My app runs a <code>while..do</code> loop inside the <code>Execute</code> procedure. Each loop makes a <code>TIdHTTP.Get()</code> call. The exceptions are handled at the loop level. There is also an upper level handler of <code>on E: Exception do</code> (level of <code>Execute</code>).</p>\n\n<p>The scenario assumes a <em>fatal network error</em> during active network operations (i.e. adapter outage, "connection reset by peer", etc.). </p>\n\n<p>10 threads are serialized to make <code>TIdHTTP.Get()</code> requests from inside the loop. The app is running on a laptop when a home router unexpectedly hangs. Here comes #10054. Suppose that the network returns within 10 minutes. I want to make sure that in case of a sudden network death, each thread somehow:</p>\n\n<ol>\n<li>Detects that <em>(well, that\'s the easiest)</em>.</li>\n<li>Waits until the network comes back.</li>\n<li>Makes sure the network is up.</li>\n<li>Re-establishes connection and restores all network hood.</li>\n<li>Continues the loop.</li>\n</ol>\n\n<p>The desired result is to keep the thread up and running and just survive the temporary network problem. The threads must periodically check if the network is back. When it is, the exception handler must restore all network hood calling thread\'s <code>RestoreNetworkConnection</code> and then continue the loop.</p>\n\n<p>What I definitely don\'t want - is to stop threads\' execution.</p>\n\n<h3>Questions</h3>\n\n<ol>\n<li>Which events/exceptions shall I intercept to handle fatal network errors?</li>\n<li>Where to place exception handlers within <code>Execute</code>?</li>\n<li>What is correct way of re-establishing connection back to normal state?</li>\n</ol>'
 '<p>The easiest way is to do something like this:</p>\n\n<pre><code>procedure TMyThread.Execute;\nvar\n  NetworkDown: Boolean;\nbegin\n  NetworkDown := False;\n  try\n    while not Terminated do\n    begin\n      // wait for a successful HTTP response...\n      repeat\n        if Terminated then Exit;\n        try\n          IdHTTP.Get(...);\n          Break;\n        except\n          on E: EIdHTTPProtocolException do begin\n            // process HTTP error as needed...\n          end;\n          on E: EIdSocketError do begin\n            NetworkDown := True;\n            // process socket error as needed...\n          end;\n          on E: Exception do begin\n            // process any other error as needed...\n            raise;\n          end;\n        end;\n        Sleep(1000);\n      until False;\n\n      // got a response, check if network was previously down\n      if NetworkDown then\n      begin\n        NetworkDown := False;\n        RestoreNetworkConnection;\n      end;\n\n      // now process HTTP response as needed ...\n    end;\n  except\n    on Exception do begin\n      // process fatal error as needed ...\n    end;\n  end;\nend;\n</code></pre>'
 "@TLama (I did, thanks!) Actually everything works just great. App survives `EIdSocketError`, `EIdReadTimeout`, etc. Now proper handling of #10054 and other 'hardware errors' will make me absolutely happy :)"]
[23302080
 '<p>I\'d like to elaborate on how to properly handle fatal network exceptions raised by <code>TIdHTTP</code> inside TThread\'s <code>Execute</code> procedure.</p>\n\n<p>My app runs a <code>while..do</code> loop inside the <code>Execute</code> procedure. Each loop makes a <code>TIdHTTP.Get()</code> call. The exceptions are handled at the loop level. There is also an upper level handler of <code>on E: Exception do</code> (level of <code>Execute</code>).</p>\n\n<p>The scenario assumes a <em>fatal network error</em> during active network operations (i.e. adapter outage, "connection reset by peer", etc.). </p>\n\n<p>10 threads are serialized to make <code>TIdHTTP.Get()</code> requests from inside the loop. The app is running on a laptop when a home router unexpectedly hangs. Here comes #10054. Suppose that the network returns within 10 minutes. I want to make sure that in case of a sudden network death, each thread somehow:</p>\n\n<ol>\n<li>Detects that <em>(well, that\'s the easiest)</em>.</li>\n<li>Waits until the network comes back.</li>\n<li>Makes sure the network is up.</li>\n<li>Re-establishes connection and restores all network hood.</li>\n<li>Continues the loop.</li>\n</ol>\n\n<p>The desired result is to keep the thread up and running and just survive the temporary network problem. The threads must periodically check if the network is back. When it is, the exception handler must restore all network hood calling thread\'s <code>RestoreNetworkConnection</code> and then continue the loop.</p>\n\n<p>What I definitely don\'t want - is to stop threads\' execution.</p>\n\n<h3>Questions</h3>\n\n<ol>\n<li>Which events/exceptions shall I intercept to handle fatal network errors?</li>\n<li>Where to place exception handlers within <code>Execute</code>?</li>\n<li>What is correct way of re-establishing connection back to normal state?</li>\n</ol>'
 '<p>The easiest way is to do something like this:</p>\n\n<pre><code>procedure TMyThread.Execute;\nvar\n  NetworkDown: Boolean;\nbegin\n  NetworkDown := False;\n  try\n    while not Terminated do\n    begin\n      // wait for a successful HTTP response...\n      repeat\n        if Terminated then Exit;\n        try\n          IdHTTP.Get(...);\n          Break;\n        except\n          on E: EIdHTTPProtocolException do begin\n            // process HTTP error as needed...\n          end;\n          on E: EIdSocketError do begin\n            NetworkDown := True;\n            // process socket error as needed...\n          end;\n          on E: Exception do begin\n            // process any other error as needed...\n            raise;\n          end;\n        end;\n        Sleep(1000);\n      until False;\n\n      // got a response, check if network was previously down\n      if NetworkDown then\n      begin\n        NetworkDown := False;\n        RestoreNetworkConnection;\n      end;\n\n      // now process HTTP response as needed ...\n    end;\n  except\n    on Exception do begin\n      // process fatal error as needed ...\n    end;\n  end;\nend;\n</code></pre>'
 '@TLama.\n"This is exactly the same question as your linked question, with the only difference being the class of Exception you would catch and minor differences in the re-establishing of the connection. It could surely be combined into a single question about handling the general network exceptions in a thread, and then a second, separate question (linked back to the first) could ask only about the differences, rather than posting two separate long questions containing 90% same content. (It\'s really not appropriate here to copy/paste long questions, change a couple of phrases, and post again)']
